{"dependencies":[{"name":"react-native","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _reactNative = _$$_REQUIRE(_dependencyMap[0], \"react-native\");\n  var LegacyNativeProxy = _reactNative.NativeModules.NativeUnimoduleProxy;\n  // Fixes `cannot find name 'global'.` in tests\n  // @ts-ignore\n  var ExpoNativeProxy = global.expo?.modules?.NativeModulesProxy;\n  var modulesConstantsKey = 'modulesConstants';\n  var exportedMethodsKey = 'exportedMethods';\n  var NativeModulesProxy = {};\n  if (LegacyNativeProxy) {\n    // use JSI proxy if available, fallback to legacy RN proxy\n    var NativeProxy = ExpoNativeProxy ?? LegacyNativeProxy;\n    Object.keys(NativeProxy[exportedMethodsKey]).forEach(function (moduleName) {\n      // copy constants\n      NativeModulesProxy[moduleName] = NativeProxy[modulesConstantsKey][moduleName] || {};\n      // copy methods\n      NativeProxy[exportedMethodsKey][moduleName].forEach(function (methodInfo) {\n        NativeModulesProxy[moduleName][methodInfo.name] = function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          // Use the new proxy to call methods on legacy modules, if possible.\n          if (ExpoNativeProxy?.callMethod) {\n            return ExpoNativeProxy.callMethod(moduleName, methodInfo.name, args);\n          }\n          // Otherwise fall back to the legacy proxy.\n          // This is deprecated and might be removed in SDK47 or later.\n          var key = methodInfo.key,\n            argumentsCount = methodInfo.argumentsCount;\n          if (argumentsCount !== args.length) {\n            return Promise.reject(new Error(`Native method ${moduleName}.${methodInfo.name} expects ${argumentsCount} ${argumentsCount === 1 ? 'argument' : 'arguments'} but received ${args.length}`));\n          }\n          return LegacyNativeProxy.callMethod(moduleName, key, args);\n        };\n      });\n      // These are called by EventEmitter (which is a wrapper for NativeEventEmitter)\n      // only on iOS and they use iOS-specific native module, EXReactNativeEventEmitter.\n      //\n      // On Android only {start,stop}Observing are called on the native module\n      // and these should be exported as Expo methods.\n      //\n      // Before the RN 65, addListener/removeListeners weren't called on Android. However, it no longer stays true.\n      // See https://github.com/facebook/react-native/commit/f5502fbda9fe271ff6e1d0da773a3a8ee206a453.\n      // That's why, we check if the `EXReactNativeEventEmitter` exists and only if yes, we use it in the listener implementation.\n      // Otherwise, those methods are NOOP.\n      if (_reactNative.NativeModules.EXReactNativeEventEmitter) {\n        NativeModulesProxy[moduleName].addListener = function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _reactNative.NativeModules.EXReactNativeEventEmitter.addProxiedListener(moduleName, ...args);\n        };\n        NativeModulesProxy[moduleName].removeListeners = function () {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n          return _reactNative.NativeModules.EXReactNativeEventEmitter.removeProxiedListeners(moduleName, ...args);\n        };\n      } else {\n        // Fixes on Android:\n        // WARN  `new NativeEventEmitter()` was called with a non-null argument without the required `addListener` method.\n        // WARN  `new NativeEventEmitter()` was called with a non-null argument without the required `removeListeners` method.\n        NativeModulesProxy[moduleName].addListener = function () {};\n        NativeModulesProxy[moduleName].removeListeners = function () {};\n      }\n    });\n  } else {\n    console.warn(`The \"EXNativeModulesProxy\" native module is not exported through NativeModules; verify that expo-modules-core's native code is linked properly`);\n  }\n  var _default = exports.default = NativeModulesProxy;\n});","lineCount":75,"map":[[6,2,1,0],[6,6,1,0,"_reactNative"],[6,18,1,0],[6,21,1,0,"_$$_REQUIRE"],[6,32,1,0],[6,33,1,0,"_dependencyMap"],[6,47,1,0],[7,2,2,0],[7,6,2,6,"LegacyNativeProxy"],[7,23,2,23],[7,26,2,26,"NativeModules"],[7,52,2,39],[7,53,2,40,"NativeUnimoduleProxy"],[7,73,2,60],[8,2,3,0],[9,2,4,0],[10,2,5,0],[10,6,5,6,"ExpoNativeProxy"],[10,21,5,21],[10,24,5,24,"global"],[10,30,5,30],[10,31,5,31,"expo"],[10,35,5,35],[10,37,5,37,"modules"],[10,44,5,44],[10,46,5,46,"NativeModulesProxy"],[10,64,5,64],[11,2,6,0],[11,6,6,6,"modulesConstantsKey"],[11,25,6,25],[11,28,6,28],[11,46,6,46],[12,2,7,0],[12,6,7,6,"exportedMethodsKey"],[12,24,7,24],[12,27,7,27],[12,44,7,44],[13,2,8,0],[13,6,8,6,"NativeModulesProxy"],[13,24,8,24],[13,27,8,27],[13,28,8,28],[13,29,8,29],[14,2,9,0],[14,6,9,4,"LegacyNativeProxy"],[14,23,9,21],[14,25,9,23],[15,4,10,4],[16,4,11,4],[16,8,11,10,"NativeProxy"],[16,19,11,21],[16,22,11,24,"ExpoNativeProxy"],[16,37,11,39],[16,41,11,43,"LegacyNativeProxy"],[16,58,11,60],[17,4,12,4,"Object"],[17,10,12,10],[17,11,12,11,"keys"],[17,15,12,15],[17,16,12,16,"NativeProxy"],[17,27,12,27],[17,28,12,28,"exportedMethodsKey"],[17,46,12,46],[17,47,12,47],[17,48,12,48],[17,49,12,49,"forEach"],[17,56,12,56],[17,57,12,57],[17,67,12,58,"moduleName"],[17,77,12,68],[17,79,12,73],[18,6,13,8],[19,6,14,8,"NativeModulesProxy"],[19,24,14,26],[19,25,14,27,"moduleName"],[19,35,14,37],[19,36,14,38],[19,39,14,41,"NativeProxy"],[19,50,14,52],[19,51,14,53,"modulesConstantsKey"],[19,70,14,72],[19,71,14,73],[19,72,14,74,"moduleName"],[19,82,14,84],[19,83,14,85],[19,87,14,89],[19,88,14,90],[19,89,14,91],[20,6,15,8],[21,6,16,8,"NativeProxy"],[21,17,16,19],[21,18,16,20,"exportedMethodsKey"],[21,36,16,38],[21,37,16,39],[21,38,16,40,"moduleName"],[21,48,16,50],[21,49,16,51],[21,50,16,52,"forEach"],[21,57,16,59],[21,58,16,60],[21,68,16,61,"methodInfo"],[21,78,16,71],[21,80,16,76],[22,8,17,12,"NativeModulesProxy"],[22,26,17,30],[22,27,17,31,"moduleName"],[22,37,17,41],[22,38,17,42],[22,39,17,43,"methodInfo"],[22,49,17,53],[22,50,17,54,"name"],[22,54,17,58],[22,55,17,59],[22,58,17,62],[22,70,17,75],[23,10,17,75],[23,19,17,75,"_len"],[23,23,17,75],[23,26,17,75,"arguments"],[23,35,17,75],[23,36,17,75,"length"],[23,42,17,75],[23,44,17,66,"args"],[23,48,17,70],[23,55,17,70,"Array"],[23,60,17,70],[23,61,17,70,"_len"],[23,65,17,70],[23,68,17,70,"_key"],[23,72,17,70],[23,78,17,70,"_key"],[23,82,17,70],[23,85,17,70,"_len"],[23,89,17,70],[23,91,17,70,"_key"],[23,95,17,70],[24,12,17,66,"args"],[24,16,17,70],[24,17,17,70,"_key"],[24,21,17,70],[24,25,17,70,"arguments"],[24,34,17,70],[24,35,17,70,"_key"],[24,39,17,70],[25,10,17,70],[26,10,18,16],[27,10,19,16],[27,14,19,20,"ExpoNativeProxy"],[27,29,19,35],[27,31,19,37,"callMethod"],[27,41,19,47],[27,43,19,49],[28,12,20,20],[28,19,20,27,"ExpoNativeProxy"],[28,34,20,42],[28,35,20,43,"callMethod"],[28,45,20,53],[28,46,20,54,"moduleName"],[28,56,20,64],[28,58,20,66,"methodInfo"],[28,68,20,76],[28,69,20,77,"name"],[28,73,20,81],[28,75,20,83,"args"],[28,79,20,87],[28,80,20,88],[29,10,21,16],[30,10,22,16],[31,10,23,16],[32,10,24,16],[32,14,24,24,"key"],[32,17,24,27],[32,20,24,48,"methodInfo"],[32,30,24,58],[32,31,24,24,"key"],[32,34,24,27],[33,12,24,29,"argumentsCount"],[33,26,24,43],[33,29,24,48,"methodInfo"],[33,39,24,58],[33,40,24,29,"argumentsCount"],[33,54,24,43],[34,10,25,16],[34,14,25,20,"argumentsCount"],[34,28,25,34],[34,33,25,39,"args"],[34,37,25,43],[34,38,25,44,"length"],[34,44,25,50],[34,46,25,52],[35,12,26,20],[35,19,26,27,"Promise"],[35,26,26,34],[35,27,26,35,"reject"],[35,33,26,41],[35,34,26,42],[35,38,26,46,"Error"],[35,43,26,51],[35,44,26,52],[35,61,26,69,"moduleName"],[35,71,26,79],[35,75,26,83,"methodInfo"],[35,85,26,93],[35,86,26,94,"name"],[35,90,26,98],[35,102,26,110,"argumentsCount"],[35,116,26,124],[35,120,26,128,"argumentsCount"],[35,134,26,142],[35,139,26,147],[35,140,26,148],[35,143,26,151],[35,153,26,161],[35,156,26,164],[35,167,26,175],[35,184,26,192,"args"],[35,188,26,196],[35,189,26,197,"length"],[35,195,26,203],[35,197,26,205],[35,198,26,206],[35,199,26,207],[36,10,27,16],[37,10,28,16],[37,17,28,23,"LegacyNativeProxy"],[37,34,28,40],[37,35,28,41,"callMethod"],[37,45,28,51],[37,46,28,52,"moduleName"],[37,56,28,62],[37,58,28,64,"key"],[37,61,28,67],[37,63,28,69,"args"],[37,67,28,73],[37,68,28,74],[38,8,29,12],[38,9,29,13],[39,6,30,8],[39,7,30,9],[39,8,30,10],[40,6,31,8],[41,6,32,8],[42,6,33,8],[43,6,34,8],[44,6,35,8],[45,6,36,8],[46,6,37,8],[47,6,38,8],[48,6,39,8],[49,6,40,8],[50,6,41,8],[50,10,41,12,"NativeModules"],[50,36,41,25],[50,37,41,26,"EXReactNativeEventEmitter"],[50,62,41,51],[50,64,41,53],[51,8,42,12,"NativeModulesProxy"],[51,26,42,30],[51,27,42,31,"moduleName"],[51,37,42,41],[51,38,42,42],[51,39,42,43,"addListener"],[51,50,42,54],[51,53,42,57],[52,10,42,57],[52,19,42,57,"_len2"],[52,24,42,57],[52,27,42,57,"arguments"],[52,36,42,57],[52,37,42,57,"length"],[52,43,42,57],[52,45,42,61,"args"],[52,49,42,65],[52,56,42,65,"Array"],[52,61,42,65],[52,62,42,65,"_len2"],[52,67,42,65],[52,70,42,65,"_key2"],[52,75,42,65],[52,81,42,65,"_key2"],[52,86,42,65],[52,89,42,65,"_len2"],[52,94,42,65],[52,96,42,65,"_key2"],[52,101,42,65],[53,12,42,61,"args"],[53,16,42,65],[53,17,42,65,"_key2"],[53,22,42,65],[53,26,42,65,"arguments"],[53,35,42,65],[53,36,42,65,"_key2"],[53,41,42,65],[54,10,42,65],[55,10,42,65],[55,17,42,70,"NativeModules"],[55,43,42,83],[55,44,42,84,"EXReactNativeEventEmitter"],[55,69,42,109],[55,70,42,110,"addProxiedListener"],[55,88,42,128],[55,89,42,129,"moduleName"],[55,99,42,139],[55,101,42,141],[55,104,42,144,"args"],[55,108,42,148],[55,109,42,149],[56,8,42,149],[57,8,43,12,"NativeModulesProxy"],[57,26,43,30],[57,27,43,31,"moduleName"],[57,37,43,41],[57,38,43,42],[57,39,43,43,"removeListeners"],[57,54,43,58],[57,57,43,61],[58,10,43,61],[58,19,43,61,"_len3"],[58,24,43,61],[58,27,43,61,"arguments"],[58,36,43,61],[58,37,43,61,"length"],[58,43,43,61],[58,45,43,65,"args"],[58,49,43,69],[58,56,43,69,"Array"],[58,61,43,69],[58,62,43,69,"_len3"],[58,67,43,69],[58,70,43,69,"_key3"],[58,75,43,69],[58,81,43,69,"_key3"],[58,86,43,69],[58,89,43,69,"_len3"],[58,94,43,69],[58,96,43,69,"_key3"],[58,101,43,69],[59,12,43,65,"args"],[59,16,43,69],[59,17,43,69,"_key3"],[59,22,43,69],[59,26,43,69,"arguments"],[59,35,43,69],[59,36,43,69,"_key3"],[59,41,43,69],[60,10,43,69],[61,10,43,69],[61,17,43,74,"NativeModules"],[61,43,43,87],[61,44,43,88,"EXReactNativeEventEmitter"],[61,69,43,113],[61,70,43,114,"removeProxiedListeners"],[61,92,43,136],[61,93,43,137,"moduleName"],[61,103,43,147],[61,105,43,149],[61,108,43,152,"args"],[61,112,43,156],[61,113,43,157],[62,8,43,157],[63,6,44,8],[63,7,44,9],[63,13,45,13],[64,8,46,12],[65,8,47,12],[66,8,48,12],[67,8,49,12,"NativeModulesProxy"],[67,26,49,30],[67,27,49,31,"moduleName"],[67,37,49,41],[67,38,49,42],[67,39,49,43,"addListener"],[67,50,49,54],[67,53,49,57],[67,65,49,63],[67,66,49,65],[67,67,49,66],[68,8,50,12,"NativeModulesProxy"],[68,26,50,30],[68,27,50,31,"moduleName"],[68,37,50,41],[68,38,50,42],[68,39,50,43,"removeListeners"],[68,54,50,58],[68,57,50,61],[68,69,50,67],[68,70,50,69],[68,71,50,70],[69,6,51,8],[70,4,52,4],[70,5,52,5],[70,6,52,6],[71,2,53,0],[71,3,53,1],[71,9,54,5],[72,4,55,4,"console"],[72,11,55,11],[72,12,55,12,"warn"],[72,16,55,16],[72,17,55,17],[72,161,55,161],[72,162,55,162],[73,2,56,0],[74,2,56,1],[74,6,56,1,"_default"],[74,14,56,1],[74,17,56,1,"exports"],[74,24,56,1],[74,25,56,1,"default"],[74,32,56,1],[74,35,57,15,"NativeModulesProxy"],[74,53,57,33],[75,0,57,33]],"functionMap":{"names":["<global>","Object.keys.forEach$argument_0","NativeProxy.exportedMethodsKey.moduleName.forEach$argument_0","moduleName.methodInfo.name","moduleName.addListener","moduleName.removeListeners"],"mappings":"AAA;yDCW;4DCI;8DCC;aDY;SDC;yDGY,4FH;6DIC,gGJ;yDGM,SH;6DIC,SJ;KDE"}},"type":"js/module"}]}