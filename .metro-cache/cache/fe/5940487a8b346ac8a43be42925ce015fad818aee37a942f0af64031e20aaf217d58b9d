{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":16,"index":93},"end":{"line":3,"column":32,"index":109}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":20,"index":131},"end":{"line":4,"column":42,"index":153}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}},{"name":"./errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":17,"index":172},"end":{"line":5,"column":36,"index":191}}],"key":"GlkDztMSsNRYmp31iO+V/Albin8=","exportNames":["*"],"imports":1}},{"name":"./fetch","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":209},"end":{"line":6,"column":34,"index":227}}],"key":"UJFbF+6y+lyz6VIB1bRQXGi9Ndw=","exportNames":["*"],"imports":1}},{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":247},"end":{"line":7,"column":38,"index":267}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  const tslib_1 = require(_dependencyMap[0], \"tslib\");\n  const constants_1 = require(_dependencyMap[1], \"./constants\");\n  const errors_1 = require(_dependencyMap[2], \"./errors\");\n  const fetch_1 = require(_dependencyMap[3], \"./fetch\");\n  const helpers_1 = require(_dependencyMap[4], \"./helpers\");\n  /**\n   * @hidden\n   * Base implementation for vector index operations.\n   * Use {@link VectorBucketScope} via `supabase.storage.vectors.from('bucket')` instead.\n   */\n  class VectorIndexApi {\n    /** Creates a new VectorIndexApi instance */\n    constructor(url, headers = {}, fetch) {\n      this.shouldThrowOnError = false;\n      this.url = url.replace(/\\/$/, '');\n      this.headers = Object.assign(Object.assign({}, constants_1.DEFAULT_HEADERS), headers);\n      this.fetch = (0, helpers_1.resolveFetch)(fetch);\n    }\n    /** Enable throwing errors instead of returning them in the response */\n    throwOnError() {\n      this.shouldThrowOnError = true;\n      return this;\n    }\n    /** Creates a new vector index within a bucket */\n    createIndex(options) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/CreateIndex`, options, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Retrieves metadata for a specific vector index */\n    getIndex(vectorBucketName, indexName) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/GetIndex`, {\n            vectorBucketName,\n            indexName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Lists vector indexes within a bucket with optional filtering and pagination */\n    listIndexes(options) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/ListIndexes`, options, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Deletes a vector index and all its data */\n    deleteIndex(vectorBucketName, indexName) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/DeleteIndex`, {\n            vectorBucketName,\n            indexName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n  }\n  exports.default = VectorIndexApi;\n});","lineCount":138,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0],[7,8,3,6,"tslib_1"],[7,15,3,13],[7,18,3,16,"require"],[7,25,3,23],[7,26,3,23,"_dependencyMap"],[7,40,3,23],[7,52,3,31],[7,53,3,32],[8,2,4,0],[8,8,4,6,"constants_1"],[8,19,4,17],[8,22,4,20,"require"],[8,29,4,27],[8,30,4,27,"_dependencyMap"],[8,44,4,27],[8,62,4,41],[8,63,4,42],[9,2,5,0],[9,8,5,6,"errors_1"],[9,16,5,14],[9,19,5,17,"require"],[9,26,5,24],[9,27,5,24,"_dependencyMap"],[9,41,5,24],[9,56,5,35],[9,57,5,36],[10,2,6,0],[10,8,6,6,"fetch_1"],[10,15,6,13],[10,18,6,16,"require"],[10,25,6,23],[10,26,6,23,"_dependencyMap"],[10,40,6,23],[10,54,6,33],[10,55,6,34],[11,2,7,0],[11,8,7,6,"helpers_1"],[11,17,7,15],[11,20,7,18,"require"],[11,27,7,25],[11,28,7,25,"_dependencyMap"],[11,42,7,25],[11,58,7,37],[11,59,7,38],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,2,13,0],[17,8,13,6,"VectorIndexApi"],[17,22,13,20],[17,23,13,21],[18,4,14,4],[19,4,15,4,"constructor"],[19,15,15,15,"constructor"],[19,16,15,16,"url"],[19,19,15,19],[19,21,15,21,"headers"],[19,28,15,28],[19,31,15,31],[19,32,15,32],[19,33,15,33],[19,35,15,35,"fetch"],[19,40,15,40],[19,42,15,42],[20,6,16,8],[20,10,16,12],[20,11,16,13,"shouldThrowOnError"],[20,29,16,31],[20,32,16,34],[20,37,16,39],[21,6,17,8],[21,10,17,12],[21,11,17,13,"url"],[21,14,17,16],[21,17,17,19,"url"],[21,20,17,22],[21,21,17,23,"replace"],[21,28,17,30],[21,29,17,31],[21,34,17,36],[21,36,17,38],[21,38,17,40],[21,39,17,41],[22,6,18,8],[22,10,18,12],[22,11,18,13,"headers"],[22,18,18,20],[22,21,18,23,"Object"],[22,27,18,29],[22,28,18,30,"assign"],[22,34,18,36],[22,35,18,37,"Object"],[22,41,18,43],[22,42,18,44,"assign"],[22,48,18,50],[22,49,18,51],[22,50,18,52],[22,51,18,53],[22,53,18,55,"constants_1"],[22,64,18,66],[22,65,18,67,"DEFAULT_HEADERS"],[22,80,18,82],[22,81,18,83],[22,83,18,85,"headers"],[22,90,18,92],[22,91,18,93],[23,6,19,8],[23,10,19,12],[23,11,19,13,"fetch"],[23,16,19,18],[23,19,19,21],[23,20,19,22],[23,21,19,23],[23,23,19,25,"helpers_1"],[23,32,19,34],[23,33,19,35,"resolveFetch"],[23,45,19,47],[23,47,19,49,"fetch"],[23,52,19,54],[23,53,19,55],[24,4,20,4],[25,4,21,4],[26,4,22,4,"throwOnError"],[26,16,22,16,"throwOnError"],[26,17,22,16],[26,19,22,19],[27,6,23,8],[27,10,23,12],[27,11,23,13,"shouldThrowOnError"],[27,29,23,31],[27,32,23,34],[27,36,23,38],[28,6,24,8],[28,13,24,15],[28,17,24,19],[29,4,25,4],[30,4,26,4],[31,4,27,4,"createIndex"],[31,15,27,15,"createIndex"],[31,16,27,16,"options"],[31,23,27,23],[31,25,27,25],[32,6,28,8],[32,13,28,15,"tslib_1"],[32,20,28,22],[32,21,28,23,"__awaiter"],[32,30,28,32],[32,31,28,33],[32,35,28,37],[32,37,28,39],[32,42,28,44],[32,43,28,45],[32,45,28,47],[32,50,28,52],[32,51,28,53],[32,53,28,55],[32,66,28,68],[33,8,29,12],[33,12,29,16],[34,10,30,16],[34,16,30,22,"data"],[34,20,30,26],[34,23,30,29],[34,29,30,35],[34,30,30,36],[34,31,30,37],[34,33,30,39,"fetch_1"],[34,40,30,46],[34,41,30,47,"post"],[34,45,30,51],[34,47,30,53],[34,51,30,57],[34,52,30,58,"fetch"],[34,57,30,63],[34,59,30,65],[34,62,30,68],[34,66,30,72],[34,67,30,73,"url"],[34,70,30,76],[34,84,30,90],[34,86,30,92,"options"],[34,93,30,99],[34,95,30,101],[35,12,31,20,"headers"],[35,19,31,27],[35,21,31,29],[35,25,31,33],[35,26,31,34,"headers"],[36,10,32,16],[36,11,32,17],[36,12,32,18],[37,10,33,16],[37,17,33,23],[38,12,33,25,"data"],[38,16,33,29],[38,18,33,31,"data"],[38,22,33,35],[38,26,33,39],[38,27,33,40],[38,28,33,41],[39,12,33,43,"error"],[39,17,33,48],[39,19,33,50],[40,10,33,55],[40,11,33,56],[41,8,34,12],[41,9,34,13],[41,10,35,12],[41,17,35,19,"error"],[41,22,35,24],[41,24,35,26],[42,10,36,16],[42,14,36,20],[42,18,36,24],[42,19,36,25,"shouldThrowOnError"],[42,37,36,43],[42,39,36,45],[43,12,37,20],[43,18,37,26,"error"],[43,23,37,31],[44,10,38,16],[45,10,39,16],[45,14,39,20],[45,15,39,21],[45,16,39,22],[45,18,39,24,"errors_1"],[45,26,39,32],[45,27,39,33,"isStorageVectorsError"],[45,48,39,54],[45,50,39,56,"error"],[45,55,39,61],[45,56,39,62],[45,58,39,64],[46,12,40,20],[46,19,40,27],[47,14,40,29,"data"],[47,18,40,33],[47,20,40,35],[47,24,40,39],[48,14,40,41,"error"],[49,12,40,47],[49,13,40,48],[50,10,41,16],[51,10,42,16],[51,16,42,22,"error"],[51,21,42,27],[52,8,43,12],[53,6,44,8],[53,7,44,9],[53,8,44,10],[54,4,45,4],[55,4,46,4],[56,4,47,4,"getIndex"],[56,12,47,12,"getIndex"],[56,13,47,13,"vectorBucketName"],[56,29,47,29],[56,31,47,31,"indexName"],[56,40,47,40],[56,42,47,42],[57,6,48,8],[57,13,48,15,"tslib_1"],[57,20,48,22],[57,21,48,23,"__awaiter"],[57,30,48,32],[57,31,48,33],[57,35,48,37],[57,37,48,39],[57,42,48,44],[57,43,48,45],[57,45,48,47],[57,50,48,52],[57,51,48,53],[57,53,48,55],[57,66,48,68],[58,8,49,12],[58,12,49,16],[59,10,50,16],[59,16,50,22,"data"],[59,20,50,26],[59,23,50,29],[59,29,50,35],[59,30,50,36],[59,31,50,37],[59,33,50,39,"fetch_1"],[59,40,50,46],[59,41,50,47,"post"],[59,45,50,51],[59,47,50,53],[59,51,50,57],[59,52,50,58,"fetch"],[59,57,50,63],[59,59,50,65],[59,62,50,68],[59,66,50,72],[59,67,50,73,"url"],[59,70,50,76],[59,81,50,87],[59,83,50,89],[60,12,50,91,"vectorBucketName"],[60,28,50,107],[61,12,50,109,"indexName"],[62,10,50,119],[62,11,50,120],[62,13,50,122],[63,12,50,124,"headers"],[63,19,50,131],[63,21,50,133],[63,25,50,137],[63,26,50,138,"headers"],[64,10,50,146],[64,11,50,147],[64,12,50,148],[65,10,51,16],[65,17,51,23],[66,12,51,25,"data"],[66,16,51,29],[67,12,51,31,"error"],[67,17,51,36],[67,19,51,38],[68,10,51,43],[68,11,51,44],[69,8,52,12],[69,9,52,13],[69,10,53,12],[69,17,53,19,"error"],[69,22,53,24],[69,24,53,26],[70,10,54,16],[70,14,54,20],[70,18,54,24],[70,19,54,25,"shouldThrowOnError"],[70,37,54,43],[70,39,54,45],[71,12,55,20],[71,18,55,26,"error"],[71,23,55,31],[72,10,56,16],[73,10,57,16],[73,14,57,20],[73,15,57,21],[73,16,57,22],[73,18,57,24,"errors_1"],[73,26,57,32],[73,27,57,33,"isStorageVectorsError"],[73,48,57,54],[73,50,57,56,"error"],[73,55,57,61],[73,56,57,62],[73,58,57,64],[74,12,58,20],[74,19,58,27],[75,14,58,29,"data"],[75,18,58,33],[75,20,58,35],[75,24,58,39],[76,14,58,41,"error"],[77,12,58,47],[77,13,58,48],[78,10,59,16],[79,10,60,16],[79,16,60,22,"error"],[79,21,60,27],[80,8,61,12],[81,6,62,8],[81,7,62,9],[81,8,62,10],[82,4,63,4],[83,4,64,4],[84,4,65,4,"listIndexes"],[84,15,65,15,"listIndexes"],[84,16,65,16,"options"],[84,23,65,23],[84,25,65,25],[85,6,66,8],[85,13,66,15,"tslib_1"],[85,20,66,22],[85,21,66,23,"__awaiter"],[85,30,66,32],[85,31,66,33],[85,35,66,37],[85,37,66,39],[85,42,66,44],[85,43,66,45],[85,45,66,47],[85,50,66,52],[85,51,66,53],[85,53,66,55],[85,66,66,68],[86,8,67,12],[86,12,67,16],[87,10,68,16],[87,16,68,22,"data"],[87,20,68,26],[87,23,68,29],[87,29,68,35],[87,30,68,36],[87,31,68,37],[87,33,68,39,"fetch_1"],[87,40,68,46],[87,41,68,47,"post"],[87,45,68,51],[87,47,68,53],[87,51,68,57],[87,52,68,58,"fetch"],[87,57,68,63],[87,59,68,65],[87,62,68,68],[87,66,68,72],[87,67,68,73,"url"],[87,70,68,76],[87,84,68,90],[87,86,68,92,"options"],[87,93,68,99],[87,95,68,101],[88,12,69,20,"headers"],[88,19,69,27],[88,21,69,29],[88,25,69,33],[88,26,69,34,"headers"],[89,10,70,16],[89,11,70,17],[89,12,70,18],[90,10,71,16],[90,17,71,23],[91,12,71,25,"data"],[91,16,71,29],[92,12,71,31,"error"],[92,17,71,36],[92,19,71,38],[93,10,71,43],[93,11,71,44],[94,8,72,12],[94,9,72,13],[94,10,73,12],[94,17,73,19,"error"],[94,22,73,24],[94,24,73,26],[95,10,74,16],[95,14,74,20],[95,18,74,24],[95,19,74,25,"shouldThrowOnError"],[95,37,74,43],[95,39,74,45],[96,12,75,20],[96,18,75,26,"error"],[96,23,75,31],[97,10,76,16],[98,10,77,16],[98,14,77,20],[98,15,77,21],[98,16,77,22],[98,18,77,24,"errors_1"],[98,26,77,32],[98,27,77,33,"isStorageVectorsError"],[98,48,77,54],[98,50,77,56,"error"],[98,55,77,61],[98,56,77,62],[98,58,77,64],[99,12,78,20],[99,19,78,27],[100,14,78,29,"data"],[100,18,78,33],[100,20,78,35],[100,24,78,39],[101,14,78,41,"error"],[102,12,78,47],[102,13,78,48],[103,10,79,16],[104,10,80,16],[104,16,80,22,"error"],[104,21,80,27],[105,8,81,12],[106,6,82,8],[106,7,82,9],[106,8,82,10],[107,4,83,4],[108,4,84,4],[109,4,85,4,"deleteIndex"],[109,15,85,15,"deleteIndex"],[109,16,85,16,"vectorBucketName"],[109,32,85,32],[109,34,85,34,"indexName"],[109,43,85,43],[109,45,85,45],[110,6,86,8],[110,13,86,15,"tslib_1"],[110,20,86,22],[110,21,86,23,"__awaiter"],[110,30,86,32],[110,31,86,33],[110,35,86,37],[110,37,86,39],[110,42,86,44],[110,43,86,45],[110,45,86,47],[110,50,86,52],[110,51,86,53],[110,53,86,55],[110,66,86,68],[111,8,87,12],[111,12,87,16],[112,10,88,16],[112,16,88,22,"data"],[112,20,88,26],[112,23,88,29],[112,29,88,35],[112,30,88,36],[112,31,88,37],[112,33,88,39,"fetch_1"],[112,40,88,46],[112,41,88,47,"post"],[112,45,88,51],[112,47,88,53],[112,51,88,57],[112,52,88,58,"fetch"],[112,57,88,63],[112,59,88,65],[112,62,88,68],[112,66,88,72],[112,67,88,73,"url"],[112,70,88,76],[112,84,88,90],[112,86,88,92],[113,12,88,94,"vectorBucketName"],[113,28,88,110],[114,12,88,112,"indexName"],[115,10,88,122],[115,11,88,123],[115,13,88,125],[116,12,88,127,"headers"],[116,19,88,134],[116,21,88,136],[116,25,88,140],[116,26,88,141,"headers"],[117,10,88,149],[117,11,88,150],[117,12,88,151],[118,10,89,16],[118,17,89,23],[119,12,89,25,"data"],[119,16,89,29],[119,18,89,31,"data"],[119,22,89,35],[119,26,89,39],[119,27,89,40],[119,28,89,41],[120,12,89,43,"error"],[120,17,89,48],[120,19,89,50],[121,10,89,55],[121,11,89,56],[122,8,90,12],[122,9,90,13],[122,10,91,12],[122,17,91,19,"error"],[122,22,91,24],[122,24,91,26],[123,10,92,16],[123,14,92,20],[123,18,92,24],[123,19,92,25,"shouldThrowOnError"],[123,37,92,43],[123,39,92,45],[124,12,93,20],[124,18,93,26,"error"],[124,23,93,31],[125,10,94,16],[126,10,95,16],[126,14,95,20],[126,15,95,21],[126,16,95,22],[126,18,95,24,"errors_1"],[126,26,95,32],[126,27,95,33,"isStorageVectorsError"],[126,48,95,54],[126,50,95,56,"error"],[126,55,95,61],[126,56,95,62],[126,58,95,64],[127,12,96,20],[127,19,96,27],[128,14,96,29,"data"],[128,18,96,33],[128,20,96,35],[128,24,96,39],[129,14,96,41,"error"],[130,12,96,47],[130,13,96,48],[131,10,97,16],[132,10,98,16],[132,16,98,22,"error"],[132,21,98,27],[133,8,99,12],[134,6,100,8],[134,7,100,9],[134,8,100,10],[135,4,101,4],[136,2,102,0],[137,2,103,0,"exports"],[137,9,103,7],[137,10,103,8,"default"],[137,17,103,15],[137,20,103,18,"VectorIndexApi"],[137,34,103,32],[138,0,103,33],[138,3]],"functionMap":{"names":["<global>","VectorIndexApi","constructor","throwOnError","createIndex","tslib_1.__awaiter$argument_3","getIndex","listIndexes","deleteIndex"],"mappings":"AAA;ACY;ICE;KDK;IEE;KFG;IGE;uDCC;SDgB;KHC;IKE;uDDC;SCc;KLC;IME;uDFC;SEgB;KNC;IOE;uDHC;SGc;KPC;CDC"},"hasCjsExports":true},"type":"js/module"}]}