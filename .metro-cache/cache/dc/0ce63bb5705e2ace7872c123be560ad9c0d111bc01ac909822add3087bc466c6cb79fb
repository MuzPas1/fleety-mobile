{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":143,"column":0,"index":4618}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":143,"column":0,"index":4618}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":143,"column":0,"index":4618}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../../Utilities/Platform","data":{"asyncType":null,"locs":[{"start":{"line":17,"column":0,"index":406},"end":{"line":17,"column":48,"index":454}}],"key":"u8HkMskTipFtyna6raQCNa0ZU48="}},{"name":"../NativeAnimatedHelper","data":{"asyncType":null,"locs":[{"start":{"line":18,"column":0,"index":455},"end":{"line":18,"column":59,"index":514}}],"key":"1ezhP5tF6Z9mOXoBZysNLcWfZtg="}},{"name":"../nodes/AnimatedColor","data":{"asyncType":null,"locs":[{"start":{"line":19,"column":0,"index":515},"end":{"line":19,"column":51,"index":566}}],"key":"LYeSMaf81C8Im1YtFhRkG0ToTLY="}},{"name":"../nodes/AnimatedProps","data":{"asyncType":null,"locs":[{"start":{"line":20,"column":0,"index":567},"end":{"line":20,"column":51,"index":618}}],"key":"b5tA9uVU8NDfoB47WehpgCijIe8="}},{"name":"../nodes/AnimatedValueXY","data":{"asyncType":null,"locs":[{"start":{"line":21,"column":0,"index":619},"end":{"line":21,"column":55,"index":674}}],"key":"c+vA+TktzQyJKV90FbCArI5nIlk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _Platform = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../../Utilities/Platform\"));\n  var _NativeAnimatedHelper = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../NativeAnimatedHelper\"));\n  var _AnimatedColor = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"../nodes/AnimatedColor\"));\n  var _AnimatedProps = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"../nodes/AnimatedProps\"));\n  var _AnimatedValueXY = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../nodes/AnimatedValueXY\"));\n  var startNativeAnimationNextId = 1;\n\n  // Important note: start() and stop() will only be called at most once.\n  // Once an animation has been stopped or finished its course, it will\n  // not be reused.\n  var Animation = exports.default = /*#__PURE__*/function () {\n    function Animation() {\n      (0, _classCallCheck2.default)(this, Animation);\n    }\n    return (0, _createClass2.default)(Animation, [{\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {}\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this.__nativeId) {\n          _NativeAnimatedHelper.default.API.stopAnimation(this.__nativeId);\n        }\n      }\n    }, {\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        // Subclasses that have corresponding animation implementation done in native\n        // should override this method\n        throw new Error('This animation type cannot be offloaded to native');\n      }\n\n      // Helper function for subclasses to make sure onEnd is only called once.\n    }, {\n      key: \"__debouncedOnEnd\",\n      value: function __debouncedOnEnd(result) {\n        var onEnd = this.__onEnd;\n        this.__onEnd = null;\n        onEnd && onEnd(result);\n      }\n    }, {\n      key: \"__findAnimatedPropsNodes\",\n      value: function __findAnimatedPropsNodes(node) {\n        var result = [];\n        if (node instanceof _AnimatedProps.default) {\n          result.push(node);\n          return result;\n        }\n\n        // Vectorized animations (animations on AnimatedValueXY, AnimatedColor nodes)\n        // are split into multiple animations for each component that execute in parallel.\n        // Calling update() on AnimatedProps when each animation completes results in\n        // potential flickering as all animations that are part of the vectorized animation\n        // may not have completed yet. For example, only the animation for the red channel of\n        // an animating color may have been completed, resulting in a temporary red color\n        // being rendered. So, for now, ignore AnimatedProps that use a vectorized animation.\n        if (_Platform.default.OS === 'ios' && (node instanceof _AnimatedValueXY.default || node instanceof _AnimatedColor.default)) {\n          return result;\n        }\n        for (var child of node.__getChildren()) {\n          result.push(...this.__findAnimatedPropsNodes(child));\n        }\n        return result;\n      }\n    }, {\n      key: \"__startNativeAnimation\",\n      value: function __startNativeAnimation(animatedValue) {\n        var _this = this;\n        var startNativeAnimationWaitId = `${startNativeAnimationNextId}:startAnimation`;\n        startNativeAnimationNextId += 1;\n        _NativeAnimatedHelper.default.API.setWaitingForIdentifier(startNativeAnimationWaitId);\n        try {\n          var config = this.__getNativeAnimationConfig();\n          animatedValue.__makeNative(config.platformConfig);\n          this.__nativeId = _NativeAnimatedHelper.default.generateNewAnimationId();\n          _NativeAnimatedHelper.default.API.startAnimatingNode(this.__nativeId, animatedValue.__getNativeTag(), config, function (result) {\n            _this.__debouncedOnEnd(result);\n\n            // When using natively driven animations, once the animation completes,\n            // we need to ensure that the JS side nodes are synced with the updated\n            // values.\n            var value = result.value;\n            if (value != null) {\n              animatedValue.__onAnimatedValueUpdateReceived(value);\n\n              // Once the JS side node is synced with the updated values, trigger an\n              // update on the AnimatedProps nodes to call any registered callbacks.\n              _this.__findAnimatedPropsNodes(animatedValue).forEach(function (node) {\n                return node.update();\n              });\n            }\n          });\n        } catch (e) {\n          throw e;\n        } finally {\n          _NativeAnimatedHelper.default.API.unsetWaitingForIdentifier(startNativeAnimationWaitId);\n        }\n      }\n    }]);\n  }();\n});","lineCount":121,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"_$$_REQUIRE"],[14,42,11,13],[14,43,11,13,"_dependencyMap"],[14,57,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,11,13],[19,6,11,13,"_classCallCheck2"],[19,22,11,13],[19,25,11,13,"_interopRequireDefault"],[19,47,11,13],[19,48,11,13,"_$$_REQUIRE"],[19,59,11,13],[19,60,11,13,"_dependencyMap"],[19,74,11,13],[20,2,11,13],[20,6,11,13,"_createClass2"],[20,19,11,13],[20,22,11,13,"_interopRequireDefault"],[20,44,11,13],[20,45,11,13,"_$$_REQUIRE"],[20,56,11,13],[20,57,11,13,"_dependencyMap"],[20,71,11,13],[21,2,17,0],[21,6,17,0,"_Platform"],[21,15,17,0],[21,18,17,0,"_interopRequireDefault"],[21,40,17,0],[21,41,17,0,"_$$_REQUIRE"],[21,52,17,0],[21,53,17,0,"_dependencyMap"],[21,67,17,0],[22,2,18,0],[22,6,18,0,"_NativeAnimatedHelper"],[22,27,18,0],[22,30,18,0,"_interopRequireDefault"],[22,52,18,0],[22,53,18,0,"_$$_REQUIRE"],[22,64,18,0],[22,65,18,0,"_dependencyMap"],[22,79,18,0],[23,2,19,0],[23,6,19,0,"_AnimatedColor"],[23,20,19,0],[23,23,19,0,"_interopRequireDefault"],[23,45,19,0],[23,46,19,0,"_$$_REQUIRE"],[23,57,19,0],[23,58,19,0,"_dependencyMap"],[23,72,19,0],[24,2,20,0],[24,6,20,0,"_AnimatedProps"],[24,20,20,0],[24,23,20,0,"_interopRequireDefault"],[24,45,20,0],[24,46,20,0,"_$$_REQUIRE"],[24,57,20,0],[24,58,20,0,"_dependencyMap"],[24,72,20,0],[25,2,21,0],[25,6,21,0,"_AnimatedValueXY"],[25,22,21,0],[25,25,21,0,"_interopRequireDefault"],[25,47,21,0],[25,48,21,0,"_$$_REQUIRE"],[25,59,21,0],[25,60,21,0,"_dependencyMap"],[25,74,21,0],[26,2,34,0],[26,6,34,4,"startNativeAnimationNextId"],[26,32,34,30],[26,35,34,33],[26,36,34,34],[28,2,36,0],[29,2,37,0],[30,2,38,0],[31,2,38,0],[31,6,39,21,"Animation"],[31,15,39,30],[31,18,39,30,"exports"],[31,25,39,30],[31,26,39,30,"default"],[31,33,39,30],[32,4,39,30],[32,13,39,30,"Animation"],[32,23,39,30],[33,6,39,30],[33,10,39,30,"_classCallCheck2"],[33,26,39,30],[33,27,39,30,"default"],[33,34,39,30],[33,42,39,30,"Animation"],[33,51,39,30],[34,4,39,30],[35,4,39,30],[35,15,39,30,"_createClass2"],[35,28,39,30],[35,29,39,30,"default"],[35,36,39,30],[35,38,39,30,"Animation"],[35,47,39,30],[36,6,39,30,"key"],[36,9,39,30],[37,6,39,30,"value"],[37,11,39,30],[37,13,46,2],[37,22,46,2,"start"],[37,27,46,7,"start"],[37,28,47,4,"fromValue"],[37,37,47,21],[37,39,48,4,"onUpdate"],[37,47,48,37],[37,49,49,4,"onEnd"],[37,54,49,23],[37,56,50,4,"previousAnimation"],[37,73,50,33],[37,75,51,4,"animatedValue"],[37,88,51,32],[37,90,52,10],[37,91,52,11],[38,4,52,12],[39,6,52,12,"key"],[39,9,52,12],[40,6,52,12,"value"],[40,11,52,12],[40,13,54,2],[40,22,54,2,"stop"],[40,26,54,6,"stop"],[40,27,54,6],[40,29,54,15],[41,8,55,4],[41,12,55,8],[41,16,55,12],[41,17,55,13,"__nativeId"],[41,27,55,23],[41,29,55,25],[42,10,56,6,"NativeAnimatedHelper"],[42,39,56,26],[42,40,56,27,"API"],[42,43,56,30],[42,44,56,31,"stopAnimation"],[42,57,56,44],[42,58,56,45],[42,62,56,49],[42,63,56,50,"__nativeId"],[42,73,56,60],[42,74,56,61],[43,8,57,4],[44,6,58,2],[45,4,58,3],[46,6,58,3,"key"],[46,9,58,3],[47,6,58,3,"value"],[47,11,58,3],[47,13,60,2],[47,22,60,2,"__getNativeAnimationConfig"],[47,48,60,28,"__getNativeAnimationConfig"],[47,49,60,28],[47,51,60,36],[48,8,61,4],[49,8,62,4],[50,8,63,4],[50,14,63,10],[50,18,63,14,"Error"],[50,23,63,19],[50,24,63,20],[50,75,63,71],[50,76,63,72],[51,6,64,2],[53,6,66,2],[54,4,66,2],[55,6,66,2,"key"],[55,9,66,2],[56,6,66,2,"value"],[56,11,66,2],[56,13,67,2],[56,22,67,2,"__debouncedOnEnd"],[56,38,67,18,"__debouncedOnEnd"],[56,39,67,19,"result"],[56,45,67,36],[56,47,67,44],[57,8,68,4],[57,12,68,10,"onEnd"],[57,17,68,15],[57,20,68,18],[57,24,68,22],[57,25,68,23,"__onEnd"],[57,32,68,30],[58,8,69,4],[58,12,69,8],[58,13,69,9,"__onEnd"],[58,20,69,16],[58,23,69,19],[58,27,69,23],[59,8,70,4,"onEnd"],[59,13,70,9],[59,17,70,13,"onEnd"],[59,22,70,18],[59,23,70,19,"result"],[59,29,70,25],[59,30,70,26],[60,6,71,2],[61,4,71,3],[62,6,71,3,"key"],[62,9,71,3],[63,6,71,3,"value"],[63,11,71,3],[63,13,73,2],[63,22,73,2,"__findAnimatedPropsNodes"],[63,46,73,26,"__findAnimatedPropsNodes"],[63,47,73,27,"node"],[63,51,73,45],[63,53,73,69],[64,8,74,4],[64,12,74,10,"result"],[64,18,74,16],[64,21,74,19],[64,23,74,21],[65,8,76,4],[65,12,76,8,"node"],[65,16,76,12],[65,28,76,24,"AnimatedProps"],[65,50,76,37],[65,52,76,39],[66,10,77,6,"result"],[66,16,77,12],[66,17,77,13,"push"],[66,21,77,17],[66,22,77,18,"node"],[66,26,77,22],[66,27,77,23],[67,10,78,6],[67,17,78,13,"result"],[67,23,78,19],[68,8,79,4],[70,8,81,4],[71,8,82,4],[72,8,83,4],[73,8,84,4],[74,8,85,4],[75,8,86,4],[76,8,87,4],[77,8,88,4],[77,12,89,6,"Platform"],[77,29,89,14],[77,30,89,15,"OS"],[77,32,89,17],[77,37,89,22],[77,42,89,27],[77,47,90,7,"node"],[77,51,90,11],[77,63,90,23,"AnimatedValueXY"],[77,87,90,38],[77,91,90,42,"node"],[77,95,90,46],[77,107,90,58,"AnimatedColor"],[77,129,90,71],[77,130,90,72],[77,132,91,6],[78,10,92,6],[78,17,92,13,"result"],[78,23,92,19],[79,8,93,4],[80,8,95,4],[80,13,95,9],[80,17,95,15,"child"],[80,22,95,20],[80,26,95,24,"node"],[80,30,95,28],[80,31,95,29,"__getChildren"],[80,44,95,42],[80,45,95,43],[80,46,95,44],[80,48,95,46],[81,10,96,6,"result"],[81,16,96,12],[81,17,96,13,"push"],[81,21,96,17],[81,22,96,18],[81,25,96,21],[81,29,96,25],[81,30,96,26,"__findAnimatedPropsNodes"],[81,54,96,50],[81,55,96,51,"child"],[81,60,96,56],[81,61,96,57],[81,62,96,58],[82,8,97,4],[83,8,99,4],[83,15,99,11,"result"],[83,21,99,17],[84,6,100,2],[85,4,100,3],[86,6,100,3,"key"],[86,9,100,3],[87,6,100,3,"value"],[87,11,100,3],[87,13,102,2],[87,22,102,2,"__startNativeAnimation"],[87,44,102,24,"__startNativeAnimation"],[87,45,102,25,"animatedValue"],[87,58,102,53],[87,60,102,61],[88,8,102,61],[88,12,102,61,"_this"],[88,17,102,61],[89,8,103,4],[89,12,103,10,"startNativeAnimationWaitId"],[89,38,103,36],[89,41,103,39],[89,44,103,42,"startNativeAnimationNextId"],[89,70,103,68],[89,87,103,85],[90,8,104,4,"startNativeAnimationNextId"],[90,34,104,30],[90,38,104,34],[90,39,104,35],[91,8,105,4,"NativeAnimatedHelper"],[91,37,105,24],[91,38,105,25,"API"],[91,41,105,28],[91,42,105,29,"setWaitingForIdentifier"],[91,65,105,52],[91,66,106,6,"startNativeAnimationWaitId"],[91,92,107,4],[91,93,107,5],[92,8,108,4],[92,12,108,8],[93,10,109,6],[93,14,109,12,"config"],[93,20,109,18],[93,23,109,21],[93,27,109,25],[93,28,109,26,"__getNativeAnimationConfig"],[93,54,109,52],[93,55,109,53],[93,56,109,54],[94,10,110,6,"animatedValue"],[94,23,110,19],[94,24,110,20,"__makeNative"],[94,36,110,32],[94,37,110,33,"config"],[94,43,110,39],[94,44,110,40,"platformConfig"],[94,58,110,54],[94,59,110,55],[95,10,111,6],[95,14,111,10],[95,15,111,11,"__nativeId"],[95,25,111,21],[95,28,111,24,"NativeAnimatedHelper"],[95,57,111,44],[95,58,111,45,"generateNewAnimationId"],[95,80,111,67],[95,81,111,68],[95,82,111,69],[96,10,112,6,"NativeAnimatedHelper"],[96,39,112,26],[96,40,112,27,"API"],[96,43,112,30],[96,44,112,31,"startAnimatingNode"],[96,62,112,49],[96,63,113,8],[96,67,113,12],[96,68,113,13,"__nativeId"],[96,78,113,23],[96,80,114,8,"animatedValue"],[96,93,114,21],[96,94,114,22,"__getNativeTag"],[96,108,114,36],[96,109,114,37],[96,110,114,38],[96,112,115,8,"config"],[96,118,115,14],[96,120,116,8],[96,130,116,8,"result"],[96,136,116,14],[96,138,116,18],[97,12,117,10,"_this"],[97,17,117,14],[97,18,117,15,"__debouncedOnEnd"],[97,34,117,31],[97,35,117,32,"result"],[97,41,117,38],[97,42,117,39],[99,12,119,10],[100,12,120,10],[101,12,121,10],[102,12,122,10],[102,16,122,17,"value"],[102,21,122,22],[102,24,122,26,"result"],[102,30,122,32],[102,31,122,17,"value"],[102,36,122,22],[103,12,123,10],[103,16,123,14,"value"],[103,21,123,19],[103,25,123,23],[103,29,123,27],[103,31,123,29],[104,14,124,12,"animatedValue"],[104,27,124,25],[104,28,124,26,"__onAnimatedValueUpdateReceived"],[104,59,124,57],[104,60,124,58,"value"],[104,65,124,63],[104,66,124,64],[106,14,126,12],[107,14,127,12],[108,14,128,12,"_this"],[108,19,128,16],[108,20,128,17,"__findAnimatedPropsNodes"],[108,44,128,41],[108,45,128,42,"animatedValue"],[108,58,128,55],[108,59,128,56],[108,60,128,57,"forEach"],[108,67,128,64],[108,68,128,65],[108,78,128,65,"node"],[108,82,128,69],[109,16,128,69],[109,23,129,14,"node"],[109,27,129,18],[109,28,129,19,"update"],[109,34,129,25],[109,35,129,26],[109,36,129,27],[110,14,129,27],[110,15,130,12],[110,16,130,13],[111,12,131,10],[112,10,132,8],[112,11,133,6],[112,12,133,7],[113,8,134,4],[113,9,134,5],[113,10,134,6],[113,17,134,13,"e"],[113,18,134,14],[113,20,134,16],[114,10,135,6],[114,16,135,12,"e"],[114,17,135,13],[115,8,136,4],[115,9,136,5],[115,18,136,14],[116,10,137,6,"NativeAnimatedHelper"],[116,39,137,26],[116,40,137,27,"API"],[116,43,137,30],[116,44,137,31,"unsetWaitingForIdentifier"],[116,69,137,56],[116,70,138,8,"startNativeAnimationWaitId"],[116,96,139,6],[116,97,139,7],[117,8,140,4],[118,6,141,2],[119,4,141,3],[120,2,141,3],[121,0,141,3]],"functionMap":{"names":["<global>","Animation","start","stop","__getNativeAnimationConfig","__debouncedOnEnd","__findAnimatedPropsNodes","__startNativeAnimation","NativeAnimatedHelper.API.startAnimatingNode$argument_3","__findAnimatedPropsNodes.forEach$argument_0"],"mappings":"AAA;eCsC;ECO;YDM;EEE;GFI;EGE;GHI;EIG;GJI;EKE;GL2B;EME;QCc;iECY;2BDC;SDG;GNS;CDC"}},"type":"js/module"}]}