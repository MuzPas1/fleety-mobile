{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":46,"index":81}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}},{"name":"./errors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":49,"index":131}}],"key":"rEld05quROH+iA6QLT6kkvqJ/qc=","exportNames":["*"],"imports":1}},{"name":"./fetch","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":4,"column":31,"index":163}}],"key":"530RtYCmKsE3te4bFHMv0Zip4Vc=","exportNames":["*"],"imports":1}},{"name":"./helpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":164},"end":{"line":5,"column":41,"index":205}}],"key":"kg0rJsyHf+Iyf4Z1AFOYGhKLkW4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return VectorBucketApi;\n    }\n  });\n  var _tslib = require(_dependencyMap[0], \"tslib\");\n  var _constants = require(_dependencyMap[1], \"./constants\");\n  var _errors = require(_dependencyMap[2], \"./errors\");\n  var _fetch = require(_dependencyMap[3], \"./fetch\");\n  var _helpers = require(_dependencyMap[4], \"./helpers\");\n  /**\n   * @hidden\n   * Base implementation for vector bucket operations.\n   * Use {@link StorageVectorsClient} via `supabase.storage.vectors` instead.\n   */\n  class VectorBucketApi {\n    /** Creates a new VectorBucketApi instance */\n    constructor(url, headers = {}, fetch) {\n      this.shouldThrowOnError = false;\n      this.url = url.replace(/\\/$/, '');\n      this.headers = Object.assign(Object.assign({}, _constants.DEFAULT_HEADERS), headers);\n      this.fetch = (0, _helpers.resolveFetch)(fetch);\n    }\n    /** Enable throwing errors instead of returning them in the response */\n    throwOnError() {\n      this.shouldThrowOnError = true;\n      return this;\n    }\n    /** Creates a new vector bucket */\n    createBucket(vectorBucketName) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/CreateVectorBucket`, {\n            vectorBucketName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Retrieves metadata for a specific vector bucket */\n    getBucket(vectorBucketName) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/GetVectorBucket`, {\n            vectorBucketName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Lists vector buckets with optional filtering and pagination */\n    listBuckets() {\n      return (0, _tslib.__awaiter)(this, arguments, void 0, function* (options = {}) {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/ListVectorBuckets`, options, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Deletes a vector bucket (must be empty first) */\n    deleteBucket(vectorBucketName) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/DeleteVectorBucket`, {\n            vectorBucketName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n  }\n});","lineCount":143,"map":[[7,2,11,15,"Object"],[7,8,11,15],[7,9,11,15,"defineProperty"],[7,23,11,15],[7,24,11,15,"exports"],[7,31,11,15],[8,4,11,15,"enumerable"],[8,14,11,15],[9,4,11,15,"get"],[9,7,11,15],[9,18,11,15,"get"],[9,19,11,15],[10,6,11,15],[10,13,11,15,"VectorBucketApi"],[10,28,11,15],[11,4,11,15],[12,2,11,15],[13,2,1,0],[13,6,1,0,"_tslib"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_constants"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_errors"],[15,13,3,0],[15,16,3,0,"require"],[15,23,3,0],[15,24,3,0,"_dependencyMap"],[15,38,3,0],[16,2,4,0],[16,6,4,0,"_fetch"],[16,12,4,0],[16,15,4,0,"require"],[16,22,4,0],[16,23,4,0,"_dependencyMap"],[16,37,4,0],[17,2,5,0],[17,6,5,0,"_helpers"],[17,14,5,0],[17,17,5,0,"require"],[17,24,5,0],[17,25,5,0,"_dependencyMap"],[17,39,5,0],[18,2,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,2,11,15],[23,8,11,21,"VectorBucketApi"],[23,23,11,36],[23,24,11,37],[24,4,12,4],[25,4,13,4,"constructor"],[25,15,13,15,"constructor"],[25,16,13,16,"url"],[25,19,13,19],[25,21,13,21,"headers"],[25,28,13,28],[25,31,13,31],[25,32,13,32],[25,33,13,33],[25,35,13,35,"fetch"],[25,40,13,40],[25,42,13,42],[26,6,14,8],[26,10,14,12],[26,11,14,13,"shouldThrowOnError"],[26,29,14,31],[26,32,14,34],[26,37,14,39],[27,6,15,8],[27,10,15,12],[27,11,15,13,"url"],[27,14,15,16],[27,17,15,19,"url"],[27,20,15,22],[27,21,15,23,"replace"],[27,28,15,30],[27,29,15,31],[27,34,15,36],[27,36,15,38],[27,38,15,40],[27,39,15,41],[28,6,16,8],[28,10,16,12],[28,11,16,13,"headers"],[28,18,16,20],[28,21,16,23,"Object"],[28,27,16,29],[28,28,16,30,"assign"],[28,34,16,36],[28,35,16,37,"Object"],[28,41,16,43],[28,42,16,44,"assign"],[28,48,16,50],[28,49,16,51],[28,50,16,52],[28,51,16,53],[28,53,16,55,"DEFAULT_HEADERS"],[28,63,16,70],[28,64,16,70,"DEFAULT_HEADERS"],[28,79,16,70],[28,80,16,71],[28,82,16,73,"headers"],[28,89,16,80],[28,90,16,81],[29,6,17,8],[29,10,17,12],[29,11,17,13,"fetch"],[29,16,17,18],[29,19,17,21],[29,23,17,21,"resolveFetch"],[29,31,17,33],[29,32,17,33,"resolveFetch"],[29,44,17,33],[29,46,17,34,"fetch"],[29,51,17,39],[29,52,17,40],[30,4,18,4],[31,4,19,4],[32,4,20,4,"throwOnError"],[32,16,20,16,"throwOnError"],[32,17,20,16],[32,19,20,19],[33,6,21,8],[33,10,21,12],[33,11,21,13,"shouldThrowOnError"],[33,29,21,31],[33,32,21,34],[33,36,21,38],[34,6,22,8],[34,13,22,15],[34,17,22,19],[35,4,23,4],[36,4,24,4],[37,4,25,4,"createBucket"],[37,16,25,16,"createBucket"],[37,17,25,17,"vectorBucketName"],[37,33,25,33],[37,35,25,35],[38,6,26,8],[38,13,26,15],[38,17,26,15,"__awaiter"],[38,23,26,24],[38,24,26,24,"__awaiter"],[38,33,26,24],[38,35,26,25],[38,39,26,29],[38,41,26,31],[38,46,26,36],[38,47,26,37],[38,49,26,39],[38,54,26,44],[38,55,26,45],[38,57,26,47],[38,70,26,60],[39,8,27,12],[39,12,27,16],[40,10,28,16],[40,16,28,22,"data"],[40,20,28,26],[40,23,28,29],[40,29,28,35],[40,33,28,35,"post"],[40,39,28,39],[40,40,28,39,"post"],[40,44,28,39],[40,46,28,40],[40,50,28,44],[40,51,28,45,"fetch"],[40,56,28,50],[40,58,28,52],[40,61,28,55],[40,65,28,59],[40,66,28,60,"url"],[40,69,28,63],[40,90,28,84],[40,92,28,86],[41,12,28,88,"vectorBucketName"],[42,10,28,105],[42,11,28,106],[42,13,28,108],[43,12,28,110,"headers"],[43,19,28,117],[43,21,28,119],[43,25,28,123],[43,26,28,124,"headers"],[44,10,28,132],[44,11,28,133],[44,12,28,134],[45,10,29,16],[45,17,29,23],[46,12,29,25,"data"],[46,16,29,29],[46,18,29,31,"data"],[46,22,29,35],[46,26,29,39],[46,27,29,40],[46,28,29,41],[47,12,29,43,"error"],[47,17,29,48],[47,19,29,50],[48,10,29,55],[48,11,29,56],[49,8,30,12],[49,9,30,13],[49,10,31,12],[49,17,31,19,"error"],[49,22,31,24],[49,24,31,26],[50,10,32,16],[50,14,32,20],[50,18,32,24],[50,19,32,25,"shouldThrowOnError"],[50,37,32,43],[50,39,32,45],[51,12,33,20],[51,18,33,26,"error"],[51,23,33,31],[52,10,34,16],[53,10,35,16],[53,14,35,20],[53,18,35,20,"isStorageVectorsError"],[53,25,35,41],[53,26,35,41,"isStorageVectorsError"],[53,47,35,41],[53,49,35,42,"error"],[53,54,35,47],[53,55,35,48],[53,57,35,50],[54,12,36,20],[54,19,36,27],[55,14,36,29,"data"],[55,18,36,33],[55,20,36,35],[55,24,36,39],[56,14,36,41,"error"],[57,12,36,47],[57,13,36,48],[58,10,37,16],[59,10,38,16],[59,16,38,22,"error"],[59,21,38,27],[60,8,39,12],[61,6,40,8],[61,7,40,9],[61,8,40,10],[62,4,41,4],[63,4,42,4],[64,4,43,4,"getBucket"],[64,13,43,13,"getBucket"],[64,14,43,14,"vectorBucketName"],[64,30,43,30],[64,32,43,32],[65,6,44,8],[65,13,44,15],[65,17,44,15,"__awaiter"],[65,23,44,24],[65,24,44,24,"__awaiter"],[65,33,44,24],[65,35,44,25],[65,39,44,29],[65,41,44,31],[65,46,44,36],[65,47,44,37],[65,49,44,39],[65,54,44,44],[65,55,44,45],[65,57,44,47],[65,70,44,60],[66,8,45,12],[66,12,45,16],[67,10,46,16],[67,16,46,22,"data"],[67,20,46,26],[67,23,46,29],[67,29,46,35],[67,33,46,35,"post"],[67,39,46,39],[67,40,46,39,"post"],[67,44,46,39],[67,46,46,40],[67,50,46,44],[67,51,46,45,"fetch"],[67,56,46,50],[67,58,46,52],[67,61,46,55],[67,65,46,59],[67,66,46,60,"url"],[67,69,46,63],[67,87,46,81],[67,89,46,83],[68,12,46,85,"vectorBucketName"],[69,10,46,102],[69,11,46,103],[69,13,46,105],[70,12,46,107,"headers"],[70,19,46,114],[70,21,46,116],[70,25,46,120],[70,26,46,121,"headers"],[71,10,46,129],[71,11,46,130],[71,12,46,131],[72,10,47,16],[72,17,47,23],[73,12,47,25,"data"],[73,16,47,29],[74,12,47,31,"error"],[74,17,47,36],[74,19,47,38],[75,10,47,43],[75,11,47,44],[76,8,48,12],[76,9,48,13],[76,10,49,12],[76,17,49,19,"error"],[76,22,49,24],[76,24,49,26],[77,10,50,16],[77,14,50,20],[77,18,50,24],[77,19,50,25,"shouldThrowOnError"],[77,37,50,43],[77,39,50,45],[78,12,51,20],[78,18,51,26,"error"],[78,23,51,31],[79,10,52,16],[80,10,53,16],[80,14,53,20],[80,18,53,20,"isStorageVectorsError"],[80,25,53,41],[80,26,53,41,"isStorageVectorsError"],[80,47,53,41],[80,49,53,42,"error"],[80,54,53,47],[80,55,53,48],[80,57,53,50],[81,12,54,20],[81,19,54,27],[82,14,54,29,"data"],[82,18,54,33],[82,20,54,35],[82,24,54,39],[83,14,54,41,"error"],[84,12,54,47],[84,13,54,48],[85,10,55,16],[86,10,56,16],[86,16,56,22,"error"],[86,21,56,27],[87,8,57,12],[88,6,58,8],[88,7,58,9],[88,8,58,10],[89,4,59,4],[90,4,60,4],[91,4,61,4,"listBuckets"],[91,15,61,15,"listBuckets"],[91,16,61,15],[91,18,61,18],[92,6,62,8],[92,13,62,15],[92,17,62,15,"__awaiter"],[92,23,62,24],[92,24,62,24,"__awaiter"],[92,33,62,24],[92,35,62,25],[92,39,62,29],[92,41,62,31,"arguments"],[92,50,62,40],[92,52,62,42],[92,57,62,47],[92,58,62,48],[92,60,62,50],[92,71,62,61,"options"],[92,78,62,68],[92,81,62,71],[92,82,62,72],[92,83,62,73],[92,85,62,75],[93,8,63,12],[93,12,63,16],[94,10,64,16],[94,16,64,22,"data"],[94,20,64,26],[94,23,64,29],[94,29,64,35],[94,33,64,35,"post"],[94,39,64,39],[94,40,64,39,"post"],[94,44,64,39],[94,46,64,40],[94,50,64,44],[94,51,64,45,"fetch"],[94,56,64,50],[94,58,64,52],[94,61,64,55],[94,65,64,59],[94,66,64,60,"url"],[94,69,64,63],[94,89,64,83],[94,91,64,85,"options"],[94,98,64,92],[94,100,64,94],[95,12,65,20,"headers"],[95,19,65,27],[95,21,65,29],[95,25,65,33],[95,26,65,34,"headers"],[96,10,66,16],[96,11,66,17],[96,12,66,18],[97,10,67,16],[97,17,67,23],[98,12,67,25,"data"],[98,16,67,29],[99,12,67,31,"error"],[99,17,67,36],[99,19,67,38],[100,10,67,43],[100,11,67,44],[101,8,68,12],[101,9,68,13],[101,10,69,12],[101,17,69,19,"error"],[101,22,69,24],[101,24,69,26],[102,10,70,16],[102,14,70,20],[102,18,70,24],[102,19,70,25,"shouldThrowOnError"],[102,37,70,43],[102,39,70,45],[103,12,71,20],[103,18,71,26,"error"],[103,23,71,31],[104,10,72,16],[105,10,73,16],[105,14,73,20],[105,18,73,20,"isStorageVectorsError"],[105,25,73,41],[105,26,73,41,"isStorageVectorsError"],[105,47,73,41],[105,49,73,42,"error"],[105,54,73,47],[105,55,73,48],[105,57,73,50],[106,12,74,20],[106,19,74,27],[107,14,74,29,"data"],[107,18,74,33],[107,20,74,35],[107,24,74,39],[108,14,74,41,"error"],[109,12,74,47],[109,13,74,48],[110,10,75,16],[111,10,76,16],[111,16,76,22,"error"],[111,21,76,27],[112,8,77,12],[113,6,78,8],[113,7,78,9],[113,8,78,10],[114,4,79,4],[115,4,80,4],[116,4,81,4,"deleteBucket"],[116,16,81,16,"deleteBucket"],[116,17,81,17,"vectorBucketName"],[116,33,81,33],[116,35,81,35],[117,6,82,8],[117,13,82,15],[117,17,82,15,"__awaiter"],[117,23,82,24],[117,24,82,24,"__awaiter"],[117,33,82,24],[117,35,82,25],[117,39,82,29],[117,41,82,31],[117,46,82,36],[117,47,82,37],[117,49,82,39],[117,54,82,44],[117,55,82,45],[117,57,82,47],[117,70,82,60],[118,8,83,12],[118,12,83,16],[119,10,84,16],[119,16,84,22,"data"],[119,20,84,26],[119,23,84,29],[119,29,84,35],[119,33,84,35,"post"],[119,39,84,39],[119,40,84,39,"post"],[119,44,84,39],[119,46,84,40],[119,50,84,44],[119,51,84,45,"fetch"],[119,56,84,50],[119,58,84,52],[119,61,84,55],[119,65,84,59],[119,66,84,60,"url"],[119,69,84,63],[119,90,84,84],[119,92,84,86],[120,12,84,88,"vectorBucketName"],[121,10,84,105],[121,11,84,106],[121,13,84,108],[122,12,84,110,"headers"],[122,19,84,117],[122,21,84,119],[122,25,84,123],[122,26,84,124,"headers"],[123,10,84,132],[123,11,84,133],[123,12,84,134],[124,10,85,16],[124,17,85,23],[125,12,85,25,"data"],[125,16,85,29],[125,18,85,31,"data"],[125,22,85,35],[125,26,85,39],[125,27,85,40],[125,28,85,41],[126,12,85,43,"error"],[126,17,85,48],[126,19,85,50],[127,10,85,55],[127,11,85,56],[128,8,86,12],[128,9,86,13],[128,10,87,12],[128,17,87,19,"error"],[128,22,87,24],[128,24,87,26],[129,10,88,16],[129,14,88,20],[129,18,88,24],[129,19,88,25,"shouldThrowOnError"],[129,37,88,43],[129,39,88,45],[130,12,89,20],[130,18,89,26,"error"],[130,23,89,31],[131,10,90,16],[132,10,91,16],[132,14,91,20],[132,18,91,20,"isStorageVectorsError"],[132,25,91,41],[132,26,91,41,"isStorageVectorsError"],[132,47,91,41],[132,49,91,42,"error"],[132,54,91,47],[132,55,91,48],[132,57,91,50],[133,12,92,20],[133,19,92,27],[134,14,92,29,"data"],[134,18,92,33],[134,20,92,35],[134,24,92,39],[135,14,92,41,"error"],[136,12,92,47],[136,13,92,48],[137,10,93,16],[138,10,94,16],[138,16,94,22,"error"],[138,21,94,27],[139,8,95,12],[140,6,96,8],[140,7,96,9],[140,8,96,10],[141,4,97,4],[142,2,98,0],[143,0,98,1],[143,3]],"functionMap":{"names":["<global>","VectorBucketApi","constructor","throwOnError","createBucket","__awaiter$argument_3","getBucket","listBuckets","deleteBucket"],"mappings":"AAA;eCU;ICE;KDK;IEE;KFG;IGE;+CCC;SDc;KHC;IKE;+CDC;SCc;KLC;IME;kDFC;SEgB;KNC;IOE;+CHC;SGc;KPC;CDC"},"hasCjsExports":false},"type":"js/module"}]}