{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":46,"index":81}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}},{"name":"./errors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":49,"index":131}}],"key":"rEld05quROH+iA6QLT6kkvqJ/qc=","exportNames":["*"],"imports":1}},{"name":"./fetch","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":4,"column":31,"index":163}}],"key":"530RtYCmKsE3te4bFHMv0Zip4Vc=","exportNames":["*"],"imports":1}},{"name":"./helpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":164},"end":{"line":5,"column":41,"index":205}}],"key":"kg0rJsyHf+Iyf4Z1AFOYGhKLkW4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return VectorIndexApi;\n    }\n  });\n  var _tslib = require(_dependencyMap[0], \"tslib\");\n  var _constants = require(_dependencyMap[1], \"./constants\");\n  var _errors = require(_dependencyMap[2], \"./errors\");\n  var _fetch = require(_dependencyMap[3], \"./fetch\");\n  var _helpers = require(_dependencyMap[4], \"./helpers\");\n  /**\n   * @hidden\n   * Base implementation for vector index operations.\n   * Use {@link VectorBucketScope} via `supabase.storage.vectors.from('bucket')` instead.\n   */\n  class VectorIndexApi {\n    /** Creates a new VectorIndexApi instance */\n    constructor(url, headers = {}, fetch) {\n      this.shouldThrowOnError = false;\n      this.url = url.replace(/\\/$/, '');\n      this.headers = Object.assign(Object.assign({}, _constants.DEFAULT_HEADERS), headers);\n      this.fetch = (0, _helpers.resolveFetch)(fetch);\n    }\n    /** Enable throwing errors instead of returning them in the response */\n    throwOnError() {\n      this.shouldThrowOnError = true;\n      return this;\n    }\n    /** Creates a new vector index within a bucket */\n    createIndex(options) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/CreateIndex`, options, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Retrieves metadata for a specific vector index */\n    getIndex(vectorBucketName, indexName) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/GetIndex`, {\n            vectorBucketName,\n            indexName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Lists vector indexes within a bucket with optional filtering and pagination */\n    listIndexes(options) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/ListIndexes`, options, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Deletes a vector index and all its data */\n    deleteIndex(vectorBucketName, indexName) {\n      return (0, _tslib.__awaiter)(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, _fetch.post)(this.fetch, `${this.url}/DeleteIndex`, {\n            vectorBucketName,\n            indexName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, _errors.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n  }\n});","lineCount":143,"map":[[7,2,11,15,"Object"],[7,8,11,15],[7,9,11,15,"defineProperty"],[7,23,11,15],[7,24,11,15,"exports"],[7,31,11,15],[8,4,11,15,"enumerable"],[8,14,11,15],[9,4,11,15,"get"],[9,7,11,15],[9,18,11,15,"get"],[9,19,11,15],[10,6,11,15],[10,13,11,15,"VectorIndexApi"],[10,27,11,15],[11,4,11,15],[12,2,11,15],[13,2,1,0],[13,6,1,0,"_tslib"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_constants"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_errors"],[15,13,3,0],[15,16,3,0,"require"],[15,23,3,0],[15,24,3,0,"_dependencyMap"],[15,38,3,0],[16,2,4,0],[16,6,4,0,"_fetch"],[16,12,4,0],[16,15,4,0,"require"],[16,22,4,0],[16,23,4,0,"_dependencyMap"],[16,37,4,0],[17,2,5,0],[17,6,5,0,"_helpers"],[17,14,5,0],[17,17,5,0,"require"],[17,24,5,0],[17,25,5,0,"_dependencyMap"],[17,39,5,0],[18,2,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,2,11,15],[23,8,11,21,"VectorIndexApi"],[23,22,11,35],[23,23,11,36],[24,4,12,4],[25,4,13,4,"constructor"],[25,15,13,15,"constructor"],[25,16,13,16,"url"],[25,19,13,19],[25,21,13,21,"headers"],[25,28,13,28],[25,31,13,31],[25,32,13,32],[25,33,13,33],[25,35,13,35,"fetch"],[25,40,13,40],[25,42,13,42],[26,6,14,8],[26,10,14,12],[26,11,14,13,"shouldThrowOnError"],[26,29,14,31],[26,32,14,34],[26,37,14,39],[27,6,15,8],[27,10,15,12],[27,11,15,13,"url"],[27,14,15,16],[27,17,15,19,"url"],[27,20,15,22],[27,21,15,23,"replace"],[27,28,15,30],[27,29,15,31],[27,34,15,36],[27,36,15,38],[27,38,15,40],[27,39,15,41],[28,6,16,8],[28,10,16,12],[28,11,16,13,"headers"],[28,18,16,20],[28,21,16,23,"Object"],[28,27,16,29],[28,28,16,30,"assign"],[28,34,16,36],[28,35,16,37,"Object"],[28,41,16,43],[28,42,16,44,"assign"],[28,48,16,50],[28,49,16,51],[28,50,16,52],[28,51,16,53],[28,53,16,55,"DEFAULT_HEADERS"],[28,63,16,70],[28,64,16,70,"DEFAULT_HEADERS"],[28,79,16,70],[28,80,16,71],[28,82,16,73,"headers"],[28,89,16,80],[28,90,16,81],[29,6,17,8],[29,10,17,12],[29,11,17,13,"fetch"],[29,16,17,18],[29,19,17,21],[29,23,17,21,"resolveFetch"],[29,31,17,33],[29,32,17,33,"resolveFetch"],[29,44,17,33],[29,46,17,34,"fetch"],[29,51,17,39],[29,52,17,40],[30,4,18,4],[31,4,19,4],[32,4,20,4,"throwOnError"],[32,16,20,16,"throwOnError"],[32,17,20,16],[32,19,20,19],[33,6,21,8],[33,10,21,12],[33,11,21,13,"shouldThrowOnError"],[33,29,21,31],[33,32,21,34],[33,36,21,38],[34,6,22,8],[34,13,22,15],[34,17,22,19],[35,4,23,4],[36,4,24,4],[37,4,25,4,"createIndex"],[37,15,25,15,"createIndex"],[37,16,25,16,"options"],[37,23,25,23],[37,25,25,25],[38,6,26,8],[38,13,26,15],[38,17,26,15,"__awaiter"],[38,23,26,24],[38,24,26,24,"__awaiter"],[38,33,26,24],[38,35,26,25],[38,39,26,29],[38,41,26,31],[38,46,26,36],[38,47,26,37],[38,49,26,39],[38,54,26,44],[38,55,26,45],[38,57,26,47],[38,70,26,60],[39,8,27,12],[39,12,27,16],[40,10,28,16],[40,16,28,22,"data"],[40,20,28,26],[40,23,28,29],[40,29,28,35],[40,33,28,35,"post"],[40,39,28,39],[40,40,28,39,"post"],[40,44,28,39],[40,46,28,40],[40,50,28,44],[40,51,28,45,"fetch"],[40,56,28,50],[40,58,28,52],[40,61,28,55],[40,65,28,59],[40,66,28,60,"url"],[40,69,28,63],[40,83,28,77],[40,85,28,79,"options"],[40,92,28,86],[40,94,28,88],[41,12,29,20,"headers"],[41,19,29,27],[41,21,29,29],[41,25,29,33],[41,26,29,34,"headers"],[42,10,30,16],[42,11,30,17],[42,12,30,18],[43,10,31,16],[43,17,31,23],[44,12,31,25,"data"],[44,16,31,29],[44,18,31,31,"data"],[44,22,31,35],[44,26,31,39],[44,27,31,40],[44,28,31,41],[45,12,31,43,"error"],[45,17,31,48],[45,19,31,50],[46,10,31,55],[46,11,31,56],[47,8,32,12],[47,9,32,13],[47,10,33,12],[47,17,33,19,"error"],[47,22,33,24],[47,24,33,26],[48,10,34,16],[48,14,34,20],[48,18,34,24],[48,19,34,25,"shouldThrowOnError"],[48,37,34,43],[48,39,34,45],[49,12,35,20],[49,18,35,26,"error"],[49,23,35,31],[50,10,36,16],[51,10,37,16],[51,14,37,20],[51,18,37,20,"isStorageVectorsError"],[51,25,37,41],[51,26,37,41,"isStorageVectorsError"],[51,47,37,41],[51,49,37,42,"error"],[51,54,37,47],[51,55,37,48],[51,57,37,50],[52,12,38,20],[52,19,38,27],[53,14,38,29,"data"],[53,18,38,33],[53,20,38,35],[53,24,38,39],[54,14,38,41,"error"],[55,12,38,47],[55,13,38,48],[56,10,39,16],[57,10,40,16],[57,16,40,22,"error"],[57,21,40,27],[58,8,41,12],[59,6,42,8],[59,7,42,9],[59,8,42,10],[60,4,43,4],[61,4,44,4],[62,4,45,4,"getIndex"],[62,12,45,12,"getIndex"],[62,13,45,13,"vectorBucketName"],[62,29,45,29],[62,31,45,31,"indexName"],[62,40,45,40],[62,42,45,42],[63,6,46,8],[63,13,46,15],[63,17,46,15,"__awaiter"],[63,23,46,24],[63,24,46,24,"__awaiter"],[63,33,46,24],[63,35,46,25],[63,39,46,29],[63,41,46,31],[63,46,46,36],[63,47,46,37],[63,49,46,39],[63,54,46,44],[63,55,46,45],[63,57,46,47],[63,70,46,60],[64,8,47,12],[64,12,47,16],[65,10,48,16],[65,16,48,22,"data"],[65,20,48,26],[65,23,48,29],[65,29,48,35],[65,33,48,35,"post"],[65,39,48,39],[65,40,48,39,"post"],[65,44,48,39],[65,46,48,40],[65,50,48,44],[65,51,48,45,"fetch"],[65,56,48,50],[65,58,48,52],[65,61,48,55],[65,65,48,59],[65,66,48,60,"url"],[65,69,48,63],[65,80,48,74],[65,82,48,76],[66,12,48,78,"vectorBucketName"],[66,28,48,94],[67,12,48,96,"indexName"],[68,10,48,106],[68,11,48,107],[68,13,48,109],[69,12,48,111,"headers"],[69,19,48,118],[69,21,48,120],[69,25,48,124],[69,26,48,125,"headers"],[70,10,48,133],[70,11,48,134],[70,12,48,135],[71,10,49,16],[71,17,49,23],[72,12,49,25,"data"],[72,16,49,29],[73,12,49,31,"error"],[73,17,49,36],[73,19,49,38],[74,10,49,43],[74,11,49,44],[75,8,50,12],[75,9,50,13],[75,10,51,12],[75,17,51,19,"error"],[75,22,51,24],[75,24,51,26],[76,10,52,16],[76,14,52,20],[76,18,52,24],[76,19,52,25,"shouldThrowOnError"],[76,37,52,43],[76,39,52,45],[77,12,53,20],[77,18,53,26,"error"],[77,23,53,31],[78,10,54,16],[79,10,55,16],[79,14,55,20],[79,18,55,20,"isStorageVectorsError"],[79,25,55,41],[79,26,55,41,"isStorageVectorsError"],[79,47,55,41],[79,49,55,42,"error"],[79,54,55,47],[79,55,55,48],[79,57,55,50],[80,12,56,20],[80,19,56,27],[81,14,56,29,"data"],[81,18,56,33],[81,20,56,35],[81,24,56,39],[82,14,56,41,"error"],[83,12,56,47],[83,13,56,48],[84,10,57,16],[85,10,58,16],[85,16,58,22,"error"],[85,21,58,27],[86,8,59,12],[87,6,60,8],[87,7,60,9],[87,8,60,10],[88,4,61,4],[89,4,62,4],[90,4,63,4,"listIndexes"],[90,15,63,15,"listIndexes"],[90,16,63,16,"options"],[90,23,63,23],[90,25,63,25],[91,6,64,8],[91,13,64,15],[91,17,64,15,"__awaiter"],[91,23,64,24],[91,24,64,24,"__awaiter"],[91,33,64,24],[91,35,64,25],[91,39,64,29],[91,41,64,31],[91,46,64,36],[91,47,64,37],[91,49,64,39],[91,54,64,44],[91,55,64,45],[91,57,64,47],[91,70,64,60],[92,8,65,12],[92,12,65,16],[93,10,66,16],[93,16,66,22,"data"],[93,20,66,26],[93,23,66,29],[93,29,66,35],[93,33,66,35,"post"],[93,39,66,39],[93,40,66,39,"post"],[93,44,66,39],[93,46,66,40],[93,50,66,44],[93,51,66,45,"fetch"],[93,56,66,50],[93,58,66,52],[93,61,66,55],[93,65,66,59],[93,66,66,60,"url"],[93,69,66,63],[93,83,66,77],[93,85,66,79,"options"],[93,92,66,86],[93,94,66,88],[94,12,67,20,"headers"],[94,19,67,27],[94,21,67,29],[94,25,67,33],[94,26,67,34,"headers"],[95,10,68,16],[95,11,68,17],[95,12,68,18],[96,10,69,16],[96,17,69,23],[97,12,69,25,"data"],[97,16,69,29],[98,12,69,31,"error"],[98,17,69,36],[98,19,69,38],[99,10,69,43],[99,11,69,44],[100,8,70,12],[100,9,70,13],[100,10,71,12],[100,17,71,19,"error"],[100,22,71,24],[100,24,71,26],[101,10,72,16],[101,14,72,20],[101,18,72,24],[101,19,72,25,"shouldThrowOnError"],[101,37,72,43],[101,39,72,45],[102,12,73,20],[102,18,73,26,"error"],[102,23,73,31],[103,10,74,16],[104,10,75,16],[104,14,75,20],[104,18,75,20,"isStorageVectorsError"],[104,25,75,41],[104,26,75,41,"isStorageVectorsError"],[104,47,75,41],[104,49,75,42,"error"],[104,54,75,47],[104,55,75,48],[104,57,75,50],[105,12,76,20],[105,19,76,27],[106,14,76,29,"data"],[106,18,76,33],[106,20,76,35],[106,24,76,39],[107,14,76,41,"error"],[108,12,76,47],[108,13,76,48],[109,10,77,16],[110,10,78,16],[110,16,78,22,"error"],[110,21,78,27],[111,8,79,12],[112,6,80,8],[112,7,80,9],[112,8,80,10],[113,4,81,4],[114,4,82,4],[115,4,83,4,"deleteIndex"],[115,15,83,15,"deleteIndex"],[115,16,83,16,"vectorBucketName"],[115,32,83,32],[115,34,83,34,"indexName"],[115,43,83,43],[115,45,83,45],[116,6,84,8],[116,13,84,15],[116,17,84,15,"__awaiter"],[116,23,84,24],[116,24,84,24,"__awaiter"],[116,33,84,24],[116,35,84,25],[116,39,84,29],[116,41,84,31],[116,46,84,36],[116,47,84,37],[116,49,84,39],[116,54,84,44],[116,55,84,45],[116,57,84,47],[116,70,84,60],[117,8,85,12],[117,12,85,16],[118,10,86,16],[118,16,86,22,"data"],[118,20,86,26],[118,23,86,29],[118,29,86,35],[118,33,86,35,"post"],[118,39,86,39],[118,40,86,39,"post"],[118,44,86,39],[118,46,86,40],[118,50,86,44],[118,51,86,45,"fetch"],[118,56,86,50],[118,58,86,52],[118,61,86,55],[118,65,86,59],[118,66,86,60,"url"],[118,69,86,63],[118,83,86,77],[118,85,86,79],[119,12,86,81,"vectorBucketName"],[119,28,86,97],[120,12,86,99,"indexName"],[121,10,86,109],[121,11,86,110],[121,13,86,112],[122,12,86,114,"headers"],[122,19,86,121],[122,21,86,123],[122,25,86,127],[122,26,86,128,"headers"],[123,10,86,136],[123,11,86,137],[123,12,86,138],[124,10,87,16],[124,17,87,23],[125,12,87,25,"data"],[125,16,87,29],[125,18,87,31,"data"],[125,22,87,35],[125,26,87,39],[125,27,87,40],[125,28,87,41],[126,12,87,43,"error"],[126,17,87,48],[126,19,87,50],[127,10,87,55],[127,11,87,56],[128,8,88,12],[128,9,88,13],[128,10,89,12],[128,17,89,19,"error"],[128,22,89,24],[128,24,89,26],[129,10,90,16],[129,14,90,20],[129,18,90,24],[129,19,90,25,"shouldThrowOnError"],[129,37,90,43],[129,39,90,45],[130,12,91,20],[130,18,91,26,"error"],[130,23,91,31],[131,10,92,16],[132,10,93,16],[132,14,93,20],[132,18,93,20,"isStorageVectorsError"],[132,25,93,41],[132,26,93,41,"isStorageVectorsError"],[132,47,93,41],[132,49,93,42,"error"],[132,54,93,47],[132,55,93,48],[132,57,93,50],[133,12,94,20],[133,19,94,27],[134,14,94,29,"data"],[134,18,94,33],[134,20,94,35],[134,24,94,39],[135,14,94,41,"error"],[136,12,94,47],[136,13,94,48],[137,10,95,16],[138,10,96,16],[138,16,96,22,"error"],[138,21,96,27],[139,8,97,12],[140,6,98,8],[140,7,98,9],[140,8,98,10],[141,4,99,4],[142,2,100,0],[143,0,100,1],[143,3]],"functionMap":{"names":["<global>","VectorIndexApi","constructor","throwOnError","createIndex","__awaiter$argument_3","getIndex","listIndexes","deleteIndex"],"mappings":"AAA;eCU;ICE;KDK;IEE;KFG;IGE;+CCC;SDgB;KHC;IKE;+CDC;SCc;KLC;IME;+CFC;SEgB;KNC;IOE;+CHC;SGc;KPC;CDC"},"hasCjsExports":false},"type":"js/module"}]}