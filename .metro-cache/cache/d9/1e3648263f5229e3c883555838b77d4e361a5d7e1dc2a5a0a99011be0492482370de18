{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":43,"index":3994}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":43,"index":3994}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":43,"index":3994}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./PostgrestQueryBuilder","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":48,"index":264},"end":{"line":6,"column":82,"index":298}}],"key":"AHVsGo+FtJIM9qinoREdhwyHlBU="}},{"name":"./PostgrestFilterBuilder","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":49,"index":350},"end":{"line":7,"column":84,"index":385}}],"key":"gSed/J6HS9dN5Bn5UwHXNT8cOqE="}},{"name":"./constants","data":{"asyncType":null,"locs":[{"start":{"line":8,"column":20,"index":408},"end":{"line":8,"column":42,"index":430}}],"key":"+w+ycjOssqrFJ0RRPi082paMSXY="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _createClass = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var PostgrestQueryBuilder_1 = __importDefault(_$$_REQUIRE(_dependencyMap[3], \"./PostgrestQueryBuilder\"));\n  var PostgrestFilterBuilder_1 = __importDefault(_$$_REQUIRE(_dependencyMap[4], \"./PostgrestFilterBuilder\"));\n  var constants_1 = _$$_REQUIRE(_dependencyMap[5], \"./constants\");\n  /**\n   * PostgREST client.\n   *\n   * @typeParam Database - Types for the schema from the [type\n   * generator](https://supabase.com/docs/reference/javascript/next/typescript-support)\n   *\n   * @typeParam SchemaName - Postgres schema to switch to. Must be a string\n   * literal, the same one passed to the constructor. If the schema is not\n   * `\"public\"`, this must be supplied manually.\n   */\n  var PostgrestClient = /*#__PURE__*/function () {\n    // TODO: Add back shouldThrowOnError once we figure out the typings\n    /**\n     * Creates a PostgREST client.\n     *\n     * @param url - URL of the PostgREST endpoint\n     * @param options - Named parameters\n     * @param options.headers - Custom headers\n     * @param options.schema - Postgres schema to switch to\n     * @param options.fetch - Custom fetch\n     */\n    function PostgrestClient(url) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$headers = _ref.headers,\n        headers = _ref$headers === void 0 ? {} : _ref$headers,\n        schema = _ref.schema,\n        fetch = _ref.fetch;\n      _classCallCheck(this, PostgrestClient);\n      this.url = url;\n      this.headers = Object.assign(Object.assign({}, constants_1.DEFAULT_HEADERS), headers);\n      this.schemaName = schema;\n      this.fetch = fetch;\n    }\n    /**\n     * Perform a query on a table or a view.\n     *\n     * @param relation - The table or view name to query\n     */\n    return _createClass(PostgrestClient, [{\n      key: \"from\",\n      value: function from(relation) {\n        var url = new URL(`${this.url}/${relation}`);\n        return new PostgrestQueryBuilder_1.default(url, {\n          headers: Object.assign({}, this.headers),\n          schema: this.schemaName,\n          fetch: this.fetch\n        });\n      }\n      /**\n       * Select a schema to query or perform an function (rpc) call.\n       *\n       * The schema needs to be on the list of exposed schemas inside Supabase.\n       *\n       * @param schema - The schema to query\n       */\n    }, {\n      key: \"schema\",\n      value: function schema(_schema) {\n        return new PostgrestClient(this.url, {\n          headers: this.headers,\n          schema: _schema,\n          fetch: this.fetch\n        });\n      }\n      /**\n       * Perform a function call.\n       *\n       * @param fn - The function name to call\n       * @param args - The arguments to pass to the function call\n       * @param options - Named parameters\n       * @param options.head - When set to `true`, `data` will not be returned.\n       * Useful if you only need the count.\n       * @param options.count - Count algorithm to use to count rows returned by the\n       * function. Only applicable for [set-returning\n       * functions](https://www.postgresql.org/docs/current/functions-srf.html).\n       *\n       * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n       * hood.\n       *\n       * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n       * statistics under the hood.\n       *\n       * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n       * numbers.\n       */\n    }, {\n      key: \"rpc\",\n      value: function rpc(fn) {\n        var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref2$head = _ref2.head,\n          head = _ref2$head === void 0 ? false : _ref2$head,\n          count = _ref2.count;\n        var method;\n        var url = new URL(`${this.url}/rpc/${fn}`);\n        var body;\n        if (head) {\n          method = 'HEAD';\n          Object.entries(args).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n              name = _ref4[0],\n              value = _ref4[1];\n            url.searchParams.append(name, `${value}`);\n          });\n        } else {\n          method = 'POST';\n          body = args;\n        }\n        var headers = Object.assign({}, this.headers);\n        if (count) {\n          headers['Prefer'] = `count=${count}`;\n        }\n        return new PostgrestFilterBuilder_1.default({\n          method,\n          url,\n          headers,\n          schema: this.schemaName,\n          body,\n          fetch: this.fetch,\n          allowEmpty: false\n        });\n      }\n    }]);\n  }();\n  exports.default = PostgrestClient;\n});","lineCount":143,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"_$$_REQUIRE"],[4,34,1,13],[4,35,1,13,"_dependencyMap"],[4,49,1,13],[5,2,1,13],[5,6,1,13,"_classCallCheck"],[5,21,1,13],[5,24,1,13,"_$$_REQUIRE"],[5,35,1,13],[5,36,1,13,"_dependencyMap"],[5,50,1,13],[6,2,1,13],[6,6,1,13,"_createClass"],[6,18,1,13],[6,21,1,13,"_$$_REQUIRE"],[6,32,1,13],[6,33,1,13,"_dependencyMap"],[6,47,1,13],[7,2,2,0],[7,6,2,4,"__importDefault"],[7,21,2,19],[7,24,2,23],[7,28,2,27],[7,32,2,31],[7,36,2,35],[7,37,2,36,"__importDefault"],[7,52,2,51],[7,56,2,56],[7,66,2,66,"mod"],[7,69,2,69],[7,71,2,71],[8,4,3,4],[8,11,3,12,"mod"],[8,14,3,15],[8,18,3,19,"mod"],[8,21,3,22],[8,22,3,23,"__esModule"],[8,32,3,33],[8,35,3,37,"mod"],[8,38,3,40],[8,41,3,43],[9,6,3,45],[9,15,3,54],[9,17,3,56,"mod"],[10,4,3,60],[10,5,3,61],[11,2,4,0],[11,3,4,1],[12,2,5,0,"Object"],[12,8,5,6],[12,9,5,7,"defineProperty"],[12,23,5,21],[12,24,5,22,"exports"],[12,31,5,29],[12,33,5,31],[12,45,5,43],[12,47,5,45],[13,4,5,47,"value"],[13,9,5,52],[13,11,5,54],[14,2,5,59],[14,3,5,60],[14,4,5,61],[15,2,6,0],[15,6,6,6,"PostgrestQueryBuilder_1"],[15,29,6,29],[15,32,6,32,"__importDefault"],[15,47,6,47],[15,48,6,48,"require"],[15,59,6,55],[15,60,6,55,"_dependencyMap"],[15,74,6,55],[15,104,6,81],[15,105,6,82],[15,106,6,83],[16,2,7,0],[16,6,7,6,"PostgrestFilterBuilder_1"],[16,30,7,30],[16,33,7,33,"__importDefault"],[16,48,7,48],[16,49,7,49,"require"],[16,60,7,56],[16,61,7,56,"_dependencyMap"],[16,75,7,56],[16,106,7,83],[16,107,7,84],[16,108,7,85],[17,2,8,0],[17,6,8,6,"constants_1"],[17,17,8,17],[17,20,8,20,"require"],[17,31,8,27],[17,32,8,27,"_dependencyMap"],[17,46,8,27],[17,64,8,41],[17,65,8,42],[18,2,9,0],[19,0,10,0],[20,0,11,0],[21,0,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,0,16,0],[26,0,17,0],[27,0,18,0],[28,2,9,0],[28,6,19,6,"PostgrestClient"],[28,21,19,21],[29,4,20,4],[30,4,21,4],[31,0,22,0],[32,0,23,0],[33,0,24,0],[34,0,25,0],[35,0,26,0],[36,0,27,0],[37,0,28,0],[38,0,29,0],[39,4,30,4],[39,13,30,4,"PostgrestClient"],[39,29,30,16,"url"],[39,32,30,19],[39,34,30,60],[40,6,30,60],[40,10,30,60,"_ref"],[40,14,30,60],[40,17,30,60,"arguments"],[40,26,30,60],[40,27,30,60,"length"],[40,33,30,60],[40,41,30,60,"arguments"],[40,50,30,60],[40,58,30,60,"undefined"],[40,67,30,60],[40,70,30,60,"arguments"],[40,79,30,60],[40,85,30,56],[40,86,30,57],[40,87,30,58],[41,8,30,58,"_ref$headers"],[41,20,30,58],[41,23,30,58,"_ref"],[41,27,30,58],[41,28,30,23,"headers"],[41,35,30,30],[42,8,30,23,"headers"],[42,15,30,30],[42,18,30,30,"_ref$headers"],[42,30,30,30],[42,44,30,33],[42,45,30,34],[42,46,30,35],[42,49,30,35,"_ref$headers"],[42,61,30,35],[43,8,30,37,"schema"],[43,14,30,43],[43,17,30,43,"_ref"],[43,21,30,43],[43,22,30,37,"schema"],[43,28,30,43],[44,8,30,45,"fetch"],[44,13,30,50],[44,16,30,50,"_ref"],[44,20,30,50],[44,21,30,45,"fetch"],[44,26,30,50],[45,6,30,50,"_classCallCheck"],[45,21,30,50],[45,28,30,50,"PostgrestClient"],[45,43,30,50],[46,6,31,8],[46,10,31,12],[46,11,31,13,"url"],[46,14,31,16],[46,17,31,19,"url"],[46,20,31,22],[47,6,32,8],[47,10,32,12],[47,11,32,13,"headers"],[47,18,32,20],[47,21,32,23,"Object"],[47,27,32,29],[47,28,32,30,"assign"],[47,34,32,36],[47,35,32,37,"Object"],[47,41,32,43],[47,42,32,44,"assign"],[47,48,32,50],[47,49,32,51],[47,50,32,52],[47,51,32,53],[47,53,32,55,"constants_1"],[47,64,32,66],[47,65,32,67,"DEFAULT_HEADERS"],[47,80,32,82],[47,81,32,83],[47,83,32,85,"headers"],[47,90,32,92],[47,91,32,93],[48,6,33,8],[48,10,33,12],[48,11,33,13,"schemaName"],[48,21,33,23],[48,24,33,26,"schema"],[48,30,33,32],[49,6,34,8],[49,10,34,12],[49,11,34,13,"fetch"],[49,16,34,18],[49,19,34,21,"fetch"],[49,24,34,26],[50,4,35,4],[51,4,36,4],[52,0,37,0],[53,0,38,0],[54,0,39,0],[55,0,40,0],[56,4,36,4],[56,11,36,4,"_createClass"],[56,23,36,4],[56,24,36,4,"PostgrestClient"],[56,39,36,4],[57,6,36,4,"key"],[57,9,36,4],[58,6,36,4,"value"],[58,11,36,4],[58,13,41,4],[58,22,41,4,"from"],[58,26,41,8,"from"],[58,27,41,9,"relation"],[58,35,41,17],[58,37,41,19],[59,8,42,8],[59,12,42,14,"url"],[59,15,42,17],[59,18,42,20],[59,22,42,24,"URL"],[59,25,42,27],[59,26,42,28],[59,29,42,31],[59,33,42,35],[59,34,42,36,"url"],[59,37,42,39],[59,41,42,43,"relation"],[59,49,42,51],[59,51,42,53],[59,52,42,54],[60,8,43,8],[60,15,43,15],[60,19,43,19,"PostgrestQueryBuilder_1"],[60,42,43,42],[60,43,43,43,"default"],[60,50,43,50],[60,51,43,51,"url"],[60,54,43,54],[60,56,43,56],[61,10,44,12,"headers"],[61,17,44,19],[61,19,44,21,"Object"],[61,25,44,27],[61,26,44,28,"assign"],[61,32,44,34],[61,33,44,35],[61,34,44,36],[61,35,44,37],[61,37,44,39],[61,41,44,43],[61,42,44,44,"headers"],[61,49,44,51],[61,50,44,52],[62,10,45,12,"schema"],[62,16,45,18],[62,18,45,20],[62,22,45,24],[62,23,45,25,"schemaName"],[62,33,45,35],[63,10,46,12,"fetch"],[63,15,46,17],[63,17,46,19],[63,21,46,23],[63,22,46,24,"fetch"],[64,8,47,8],[64,9,47,9],[64,10,47,10],[65,6,48,4],[66,6,49,4],[67,0,50,0],[68,0,51,0],[69,0,52,0],[70,0,53,0],[71,0,54,0],[72,0,55,0],[73,4,49,4],[74,6,49,4,"key"],[74,9,49,4],[75,6,49,4,"value"],[75,11,49,4],[75,13,56,4],[75,22,56,4,"schema"],[75,28,56,10,"schema"],[75,29,56,11,"schema"],[75,36,56,17],[75,38,56,19],[76,8,57,8],[76,15,57,15],[76,19,57,19,"PostgrestClient"],[76,34,57,34],[76,35,57,35],[76,39,57,39],[76,40,57,40,"url"],[76,43,57,43],[76,45,57,45],[77,10,58,12,"headers"],[77,17,58,19],[77,19,58,21],[77,23,58,25],[77,24,58,26,"headers"],[77,31,58,33],[78,10,59,12,"schema"],[78,16,59,18],[78,18,59,12,"schema"],[78,25,59,18],[79,10,60,12,"fetch"],[79,15,60,17],[79,17,60,19],[79,21,60,23],[79,22,60,24,"fetch"],[80,8,61,8],[80,9,61,9],[80,10,61,10],[81,6,62,4],[82,6,63,4],[83,0,64,0],[84,0,65,0],[85,0,66,0],[86,0,67,0],[87,0,68,0],[88,0,69,0],[89,0,70,0],[90,0,71,0],[91,0,72,0],[92,0,73,0],[93,0,74,0],[94,0,75,0],[95,0,76,0],[96,0,77,0],[97,0,78,0],[98,0,79,0],[99,0,80,0],[100,0,81,0],[101,0,82,0],[102,0,83,0],[103,4,63,4],[104,6,63,4,"key"],[104,9,63,4],[105,6,63,4,"value"],[105,11,63,4],[105,13,84,4],[105,22,84,4,"rpc"],[105,25,84,7,"rpc"],[105,26,84,8,"fn"],[105,28,84,10],[105,30,84,54],[106,8,84,54],[106,12,84,12,"args"],[106,16,84,16],[106,19,84,16,"arguments"],[106,28,84,16],[106,29,84,16,"length"],[106,35,84,16],[106,43,84,16,"arguments"],[106,52,84,16],[106,60,84,16,"undefined"],[106,69,84,16],[106,72,84,16,"arguments"],[106,81,84,16],[106,87,84,19],[106,88,84,20],[106,89,84,21],[107,8,84,21],[107,12,84,21,"_ref2"],[107,17,84,21],[107,20,84,21,"arguments"],[107,29,84,21],[107,30,84,21,"length"],[107,36,84,21],[107,44,84,21,"arguments"],[107,53,84,21],[107,61,84,21,"undefined"],[107,70,84,21],[107,73,84,21,"arguments"],[107,82,84,21],[107,88,84,50],[107,89,84,51],[107,90,84,52],[108,10,84,52,"_ref2$head"],[108,20,84,52],[108,23,84,52,"_ref2"],[108,28,84,52],[108,29,84,25,"head"],[108,33,84,29],[109,10,84,25,"head"],[109,14,84,29],[109,17,84,29,"_ref2$head"],[109,27,84,29],[109,41,84,32],[109,46,84,37],[109,49,84,37,"_ref2$head"],[109,59,84,37],[110,10,84,39,"count"],[110,15,84,44],[110,18,84,44,"_ref2"],[110,23,84,44],[110,24,84,39,"count"],[110,29,84,44],[111,8,85,8],[111,12,85,12,"method"],[111,18,85,18],[112,8,86,8],[112,12,86,14,"url"],[112,15,86,17],[112,18,86,20],[112,22,86,24,"URL"],[112,25,86,27],[112,26,86,28],[112,29,86,31],[112,33,86,35],[112,34,86,36,"url"],[112,37,86,39],[112,45,86,47,"fn"],[112,47,86,49],[112,49,86,51],[112,50,86,52],[113,8,87,8],[113,12,87,12,"body"],[113,16,87,16],[114,8,88,8],[114,12,88,12,"head"],[114,16,88,16],[114,18,88,18],[115,10,89,12,"method"],[115,16,89,18],[115,19,89,21],[115,25,89,27],[116,10,90,12,"Object"],[116,16,90,18],[116,17,90,19,"entries"],[116,24,90,26],[116,25,90,27,"args"],[116,29,90,31],[116,30,90,32],[116,31,90,33,"forEach"],[116,38,90,40],[116,39,90,41],[116,49,90,41,"_ref3"],[116,54,90,41],[116,56,90,60],[117,12,90,60],[117,16,90,60,"_ref4"],[117,21,90,60],[117,24,90,60,"_slicedToArray"],[117,38,90,60],[117,39,90,60,"_ref3"],[117,44,90,60],[118,14,90,43,"name"],[118,18,90,47],[118,21,90,47,"_ref4"],[118,26,90,47],[119,14,90,49,"value"],[119,19,90,54],[119,22,90,54,"_ref4"],[119,27,90,54],[120,12,91,16,"url"],[120,15,91,19],[120,16,91,20,"searchParams"],[120,28,91,32],[120,29,91,33,"append"],[120,35,91,39],[120,36,91,40,"name"],[120,40,91,44],[120,42,91,46],[120,45,91,49,"value"],[120,50,91,54],[120,52,91,56],[120,53,91,57],[121,10,92,12],[121,11,92,13],[121,12,92,14],[122,8,93,8],[122,9,93,9],[122,15,94,13],[123,10,95,12,"method"],[123,16,95,18],[123,19,95,21],[123,25,95,27],[124,10,96,12,"body"],[124,14,96,16],[124,17,96,19,"args"],[124,21,96,23],[125,8,97,8],[126,8,98,8],[126,12,98,14,"headers"],[126,19,98,21],[126,22,98,24,"Object"],[126,28,98,30],[126,29,98,31,"assign"],[126,35,98,37],[126,36,98,38],[126,37,98,39],[126,38,98,40],[126,40,98,42],[126,44,98,46],[126,45,98,47,"headers"],[126,52,98,54],[126,53,98,55],[127,8,99,8],[127,12,99,12,"count"],[127,17,99,17],[127,19,99,19],[128,10,100,12,"headers"],[128,17,100,19],[128,18,100,20],[128,26,100,28],[128,27,100,29],[128,30,100,32],[128,39,100,41,"count"],[128,44,100,46],[128,46,100,48],[129,8,101,8],[130,8,102,8],[130,15,102,15],[130,19,102,19,"PostgrestFilterBuilder_1"],[130,43,102,43],[130,44,102,44,"default"],[130,51,102,51],[130,52,102,52],[131,10,103,12,"method"],[131,16,103,18],[132,10,104,12,"url"],[132,13,104,15],[133,10,105,12,"headers"],[133,17,105,19],[134,10,106,12,"schema"],[134,16,106,18],[134,18,106,20],[134,22,106,24],[134,23,106,25,"schemaName"],[134,33,106,35],[135,10,107,12,"body"],[135,14,107,16],[136,10,108,12,"fetch"],[136,15,108,17],[136,17,108,19],[136,21,108,23],[136,22,108,24,"fetch"],[136,27,108,29],[137,10,109,12,"allowEmpty"],[137,20,109,22],[137,22,109,24],[138,8,110,8],[138,9,110,9],[138,10,110,10],[139,6,111,4],[140,4,111,5],[141,2,111,5],[142,2,113,0,"exports"],[142,9,113,7],[142,10,113,8,"default"],[142,17,113,15],[142,20,113,18,"PostgrestClient"],[142,35,113,33],[143,0,113,34]],"functionMap":{"names":["<global>","<anonymous>","PostgrestClient","constructor","from","schema","rpc","Object.entries.forEach$argument_0"],"mappings":"AAA;wDCC;CDE;AEe;ICW;KDK;IEM;KFO;IGQ;KHM;IIsB;yCCM;aDE;KJmB;CFC"}},"type":"js/module"}]}