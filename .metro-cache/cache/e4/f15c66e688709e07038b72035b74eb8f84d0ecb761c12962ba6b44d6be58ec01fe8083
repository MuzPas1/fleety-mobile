{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":16,"index":93},"end":{"line":3,"column":32,"index":109}}],"key":"vm88vOsSPZItrLOmMEyUuGkd1y4=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":20,"index":131},"end":{"line":4,"column":42,"index":153}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}},{"name":"./errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":17,"index":172},"end":{"line":5,"column":36,"index":191}}],"key":"GlkDztMSsNRYmp31iO+V/Albin8=","exportNames":["*"],"imports":1}},{"name":"./fetch","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":209},"end":{"line":6,"column":34,"index":227}}],"key":"UJFbF+6y+lyz6VIB1bRQXGi9Ndw=","exportNames":["*"],"imports":1}},{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":247},"end":{"line":7,"column":38,"index":267}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  const tslib_1 = require(_dependencyMap[0], \"tslib\");\n  const constants_1 = require(_dependencyMap[1], \"./constants\");\n  const errors_1 = require(_dependencyMap[2], \"./errors\");\n  const fetch_1 = require(_dependencyMap[3], \"./fetch\");\n  const helpers_1 = require(_dependencyMap[4], \"./helpers\");\n  /**\n   * @hidden\n   * Base implementation for vector bucket operations.\n   * Use {@link StorageVectorsClient} via `supabase.storage.vectors` instead.\n   */\n  class VectorBucketApi {\n    /** Creates a new VectorBucketApi instance */\n    constructor(url, headers = {}, fetch) {\n      this.shouldThrowOnError = false;\n      this.url = url.replace(/\\/$/, '');\n      this.headers = Object.assign(Object.assign({}, constants_1.DEFAULT_HEADERS), headers);\n      this.fetch = (0, helpers_1.resolveFetch)(fetch);\n    }\n    /** Enable throwing errors instead of returning them in the response */\n    throwOnError() {\n      this.shouldThrowOnError = true;\n      return this;\n    }\n    /** Creates a new vector bucket */\n    createBucket(vectorBucketName) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/CreateVectorBucket`, {\n            vectorBucketName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Retrieves metadata for a specific vector bucket */\n    getBucket(vectorBucketName) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/GetVectorBucket`, {\n            vectorBucketName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Lists vector buckets with optional filtering and pagination */\n    listBuckets() {\n      return tslib_1.__awaiter(this, arguments, void 0, function* (options = {}) {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/ListVectorBuckets`, options, {\n            headers: this.headers\n          });\n          return {\n            data,\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n    /** Deletes a vector bucket (must be empty first) */\n    deleteBucket(vectorBucketName) {\n      return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        try {\n          const data = yield (0, fetch_1.post)(this.fetch, `${this.url}/DeleteVectorBucket`, {\n            vectorBucketName\n          }, {\n            headers: this.headers\n          });\n          return {\n            data: data || {},\n            error: null\n          };\n        } catch (error) {\n          if (this.shouldThrowOnError) {\n            throw error;\n          }\n          if ((0, errors_1.isStorageVectorsError)(error)) {\n            return {\n              data: null,\n              error\n            };\n          }\n          throw error;\n        }\n      });\n    }\n  }\n  exports.default = VectorBucketApi;\n});","lineCount":138,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0],[7,8,3,6,"tslib_1"],[7,15,3,13],[7,18,3,16,"require"],[7,25,3,23],[7,26,3,23,"_dependencyMap"],[7,40,3,23],[7,52,3,31],[7,53,3,32],[8,2,4,0],[8,8,4,6,"constants_1"],[8,19,4,17],[8,22,4,20,"require"],[8,29,4,27],[8,30,4,27,"_dependencyMap"],[8,44,4,27],[8,62,4,41],[8,63,4,42],[9,2,5,0],[9,8,5,6,"errors_1"],[9,16,5,14],[9,19,5,17,"require"],[9,26,5,24],[9,27,5,24,"_dependencyMap"],[9,41,5,24],[9,56,5,35],[9,57,5,36],[10,2,6,0],[10,8,6,6,"fetch_1"],[10,15,6,13],[10,18,6,16,"require"],[10,25,6,23],[10,26,6,23,"_dependencyMap"],[10,40,6,23],[10,54,6,33],[10,55,6,34],[11,2,7,0],[11,8,7,6,"helpers_1"],[11,17,7,15],[11,20,7,18,"require"],[11,27,7,25],[11,28,7,25,"_dependencyMap"],[11,42,7,25],[11,58,7,37],[11,59,7,38],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,2,13,0],[17,8,13,6,"VectorBucketApi"],[17,23,13,21],[17,24,13,22],[18,4,14,4],[19,4,15,4,"constructor"],[19,15,15,15,"constructor"],[19,16,15,16,"url"],[19,19,15,19],[19,21,15,21,"headers"],[19,28,15,28],[19,31,15,31],[19,32,15,32],[19,33,15,33],[19,35,15,35,"fetch"],[19,40,15,40],[19,42,15,42],[20,6,16,8],[20,10,16,12],[20,11,16,13,"shouldThrowOnError"],[20,29,16,31],[20,32,16,34],[20,37,16,39],[21,6,17,8],[21,10,17,12],[21,11,17,13,"url"],[21,14,17,16],[21,17,17,19,"url"],[21,20,17,22],[21,21,17,23,"replace"],[21,28,17,30],[21,29,17,31],[21,34,17,36],[21,36,17,38],[21,38,17,40],[21,39,17,41],[22,6,18,8],[22,10,18,12],[22,11,18,13,"headers"],[22,18,18,20],[22,21,18,23,"Object"],[22,27,18,29],[22,28,18,30,"assign"],[22,34,18,36],[22,35,18,37,"Object"],[22,41,18,43],[22,42,18,44,"assign"],[22,48,18,50],[22,49,18,51],[22,50,18,52],[22,51,18,53],[22,53,18,55,"constants_1"],[22,64,18,66],[22,65,18,67,"DEFAULT_HEADERS"],[22,80,18,82],[22,81,18,83],[22,83,18,85,"headers"],[22,90,18,92],[22,91,18,93],[23,6,19,8],[23,10,19,12],[23,11,19,13,"fetch"],[23,16,19,18],[23,19,19,21],[23,20,19,22],[23,21,19,23],[23,23,19,25,"helpers_1"],[23,32,19,34],[23,33,19,35,"resolveFetch"],[23,45,19,47],[23,47,19,49,"fetch"],[23,52,19,54],[23,53,19,55],[24,4,20,4],[25,4,21,4],[26,4,22,4,"throwOnError"],[26,16,22,16,"throwOnError"],[26,17,22,16],[26,19,22,19],[27,6,23,8],[27,10,23,12],[27,11,23,13,"shouldThrowOnError"],[27,29,23,31],[27,32,23,34],[27,36,23,38],[28,6,24,8],[28,13,24,15],[28,17,24,19],[29,4,25,4],[30,4,26,4],[31,4,27,4,"createBucket"],[31,16,27,16,"createBucket"],[31,17,27,17,"vectorBucketName"],[31,33,27,33],[31,35,27,35],[32,6,28,8],[32,13,28,15,"tslib_1"],[32,20,28,22],[32,21,28,23,"__awaiter"],[32,30,28,32],[32,31,28,33],[32,35,28,37],[32,37,28,39],[32,42,28,44],[32,43,28,45],[32,45,28,47],[32,50,28,52],[32,51,28,53],[32,53,28,55],[32,66,28,68],[33,8,29,12],[33,12,29,16],[34,10,30,16],[34,16,30,22,"data"],[34,20,30,26],[34,23,30,29],[34,29,30,35],[34,30,30,36],[34,31,30,37],[34,33,30,39,"fetch_1"],[34,40,30,46],[34,41,30,47,"post"],[34,45,30,51],[34,47,30,53],[34,51,30,57],[34,52,30,58,"fetch"],[34,57,30,63],[34,59,30,65],[34,62,30,68],[34,66,30,72],[34,67,30,73,"url"],[34,70,30,76],[34,91,30,97],[34,93,30,99],[35,12,30,101,"vectorBucketName"],[36,10,30,118],[36,11,30,119],[36,13,30,121],[37,12,30,123,"headers"],[37,19,30,130],[37,21,30,132],[37,25,30,136],[37,26,30,137,"headers"],[38,10,30,145],[38,11,30,146],[38,12,30,147],[39,10,31,16],[39,17,31,23],[40,12,31,25,"data"],[40,16,31,29],[40,18,31,31,"data"],[40,22,31,35],[40,26,31,39],[40,27,31,40],[40,28,31,41],[41,12,31,43,"error"],[41,17,31,48],[41,19,31,50],[42,10,31,55],[42,11,31,56],[43,8,32,12],[43,9,32,13],[43,10,33,12],[43,17,33,19,"error"],[43,22,33,24],[43,24,33,26],[44,10,34,16],[44,14,34,20],[44,18,34,24],[44,19,34,25,"shouldThrowOnError"],[44,37,34,43],[44,39,34,45],[45,12,35,20],[45,18,35,26,"error"],[45,23,35,31],[46,10,36,16],[47,10,37,16],[47,14,37,20],[47,15,37,21],[47,16,37,22],[47,18,37,24,"errors_1"],[47,26,37,32],[47,27,37,33,"isStorageVectorsError"],[47,48,37,54],[47,50,37,56,"error"],[47,55,37,61],[47,56,37,62],[47,58,37,64],[48,12,38,20],[48,19,38,27],[49,14,38,29,"data"],[49,18,38,33],[49,20,38,35],[49,24,38,39],[50,14,38,41,"error"],[51,12,38,47],[51,13,38,48],[52,10,39,16],[53,10,40,16],[53,16,40,22,"error"],[53,21,40,27],[54,8,41,12],[55,6,42,8],[55,7,42,9],[55,8,42,10],[56,4,43,4],[57,4,44,4],[58,4,45,4,"getBucket"],[58,13,45,13,"getBucket"],[58,14,45,14,"vectorBucketName"],[58,30,45,30],[58,32,45,32],[59,6,46,8],[59,13,46,15,"tslib_1"],[59,20,46,22],[59,21,46,23,"__awaiter"],[59,30,46,32],[59,31,46,33],[59,35,46,37],[59,37,46,39],[59,42,46,44],[59,43,46,45],[59,45,46,47],[59,50,46,52],[59,51,46,53],[59,53,46,55],[59,66,46,68],[60,8,47,12],[60,12,47,16],[61,10,48,16],[61,16,48,22,"data"],[61,20,48,26],[61,23,48,29],[61,29,48,35],[61,30,48,36],[61,31,48,37],[61,33,48,39,"fetch_1"],[61,40,48,46],[61,41,48,47,"post"],[61,45,48,51],[61,47,48,53],[61,51,48,57],[61,52,48,58,"fetch"],[61,57,48,63],[61,59,48,65],[61,62,48,68],[61,66,48,72],[61,67,48,73,"url"],[61,70,48,76],[61,88,48,94],[61,90,48,96],[62,12,48,98,"vectorBucketName"],[63,10,48,115],[63,11,48,116],[63,13,48,118],[64,12,48,120,"headers"],[64,19,48,127],[64,21,48,129],[64,25,48,133],[64,26,48,134,"headers"],[65,10,48,142],[65,11,48,143],[65,12,48,144],[66,10,49,16],[66,17,49,23],[67,12,49,25,"data"],[67,16,49,29],[68,12,49,31,"error"],[68,17,49,36],[68,19,49,38],[69,10,49,43],[69,11,49,44],[70,8,50,12],[70,9,50,13],[70,10,51,12],[70,17,51,19,"error"],[70,22,51,24],[70,24,51,26],[71,10,52,16],[71,14,52,20],[71,18,52,24],[71,19,52,25,"shouldThrowOnError"],[71,37,52,43],[71,39,52,45],[72,12,53,20],[72,18,53,26,"error"],[72,23,53,31],[73,10,54,16],[74,10,55,16],[74,14,55,20],[74,15,55,21],[74,16,55,22],[74,18,55,24,"errors_1"],[74,26,55,32],[74,27,55,33,"isStorageVectorsError"],[74,48,55,54],[74,50,55,56,"error"],[74,55,55,61],[74,56,55,62],[74,58,55,64],[75,12,56,20],[75,19,56,27],[76,14,56,29,"data"],[76,18,56,33],[76,20,56,35],[76,24,56,39],[77,14,56,41,"error"],[78,12,56,47],[78,13,56,48],[79,10,57,16],[80,10,58,16],[80,16,58,22,"error"],[80,21,58,27],[81,8,59,12],[82,6,60,8],[82,7,60,9],[82,8,60,10],[83,4,61,4],[84,4,62,4],[85,4,63,4,"listBuckets"],[85,15,63,15,"listBuckets"],[85,16,63,15],[85,18,63,18],[86,6,64,8],[86,13,64,15,"tslib_1"],[86,20,64,22],[86,21,64,23,"__awaiter"],[86,30,64,32],[86,31,64,33],[86,35,64,37],[86,37,64,39,"arguments"],[86,46,64,48],[86,48,64,50],[86,53,64,55],[86,54,64,56],[86,56,64,58],[86,67,64,69,"options"],[86,74,64,76],[86,77,64,79],[86,78,64,80],[86,79,64,81],[86,81,64,83],[87,8,65,12],[87,12,65,16],[88,10,66,16],[88,16,66,22,"data"],[88,20,66,26],[88,23,66,29],[88,29,66,35],[88,30,66,36],[88,31,66,37],[88,33,66,39,"fetch_1"],[88,40,66,46],[88,41,66,47,"post"],[88,45,66,51],[88,47,66,53],[88,51,66,57],[88,52,66,58,"fetch"],[88,57,66,63],[88,59,66,65],[88,62,66,68],[88,66,66,72],[88,67,66,73,"url"],[88,70,66,76],[88,90,66,96],[88,92,66,98,"options"],[88,99,66,105],[88,101,66,107],[89,12,67,20,"headers"],[89,19,67,27],[89,21,67,29],[89,25,67,33],[89,26,67,34,"headers"],[90,10,68,16],[90,11,68,17],[90,12,68,18],[91,10,69,16],[91,17,69,23],[92,12,69,25,"data"],[92,16,69,29],[93,12,69,31,"error"],[93,17,69,36],[93,19,69,38],[94,10,69,43],[94,11,69,44],[95,8,70,12],[95,9,70,13],[95,10,71,12],[95,17,71,19,"error"],[95,22,71,24],[95,24,71,26],[96,10,72,16],[96,14,72,20],[96,18,72,24],[96,19,72,25,"shouldThrowOnError"],[96,37,72,43],[96,39,72,45],[97,12,73,20],[97,18,73,26,"error"],[97,23,73,31],[98,10,74,16],[99,10,75,16],[99,14,75,20],[99,15,75,21],[99,16,75,22],[99,18,75,24,"errors_1"],[99,26,75,32],[99,27,75,33,"isStorageVectorsError"],[99,48,75,54],[99,50,75,56,"error"],[99,55,75,61],[99,56,75,62],[99,58,75,64],[100,12,76,20],[100,19,76,27],[101,14,76,29,"data"],[101,18,76,33],[101,20,76,35],[101,24,76,39],[102,14,76,41,"error"],[103,12,76,47],[103,13,76,48],[104,10,77,16],[105,10,78,16],[105,16,78,22,"error"],[105,21,78,27],[106,8,79,12],[107,6,80,8],[107,7,80,9],[107,8,80,10],[108,4,81,4],[109,4,82,4],[110,4,83,4,"deleteBucket"],[110,16,83,16,"deleteBucket"],[110,17,83,17,"vectorBucketName"],[110,33,83,33],[110,35,83,35],[111,6,84,8],[111,13,84,15,"tslib_1"],[111,20,84,22],[111,21,84,23,"__awaiter"],[111,30,84,32],[111,31,84,33],[111,35,84,37],[111,37,84,39],[111,42,84,44],[111,43,84,45],[111,45,84,47],[111,50,84,52],[111,51,84,53],[111,53,84,55],[111,66,84,68],[112,8,85,12],[112,12,85,16],[113,10,86,16],[113,16,86,22,"data"],[113,20,86,26],[113,23,86,29],[113,29,86,35],[113,30,86,36],[113,31,86,37],[113,33,86,39,"fetch_1"],[113,40,86,46],[113,41,86,47,"post"],[113,45,86,51],[113,47,86,53],[113,51,86,57],[113,52,86,58,"fetch"],[113,57,86,63],[113,59,86,65],[113,62,86,68],[113,66,86,72],[113,67,86,73,"url"],[113,70,86,76],[113,91,86,97],[113,93,86,99],[114,12,86,101,"vectorBucketName"],[115,10,86,118],[115,11,86,119],[115,13,86,121],[116,12,86,123,"headers"],[116,19,86,130],[116,21,86,132],[116,25,86,136],[116,26,86,137,"headers"],[117,10,86,145],[117,11,86,146],[117,12,86,147],[118,10,87,16],[118,17,87,23],[119,12,87,25,"data"],[119,16,87,29],[119,18,87,31,"data"],[119,22,87,35],[119,26,87,39],[119,27,87,40],[119,28,87,41],[120,12,87,43,"error"],[120,17,87,48],[120,19,87,50],[121,10,87,55],[121,11,87,56],[122,8,88,12],[122,9,88,13],[122,10,89,12],[122,17,89,19,"error"],[122,22,89,24],[122,24,89,26],[123,10,90,16],[123,14,90,20],[123,18,90,24],[123,19,90,25,"shouldThrowOnError"],[123,37,90,43],[123,39,90,45],[124,12,91,20],[124,18,91,26,"error"],[124,23,91,31],[125,10,92,16],[126,10,93,16],[126,14,93,20],[126,15,93,21],[126,16,93,22],[126,18,93,24,"errors_1"],[126,26,93,32],[126,27,93,33,"isStorageVectorsError"],[126,48,93,54],[126,50,93,56,"error"],[126,55,93,61],[126,56,93,62],[126,58,93,64],[127,12,94,20],[127,19,94,27],[128,14,94,29,"data"],[128,18,94,33],[128,20,94,35],[128,24,94,39],[129,14,94,41,"error"],[130,12,94,47],[130,13,94,48],[131,10,95,16],[132,10,96,16],[132,16,96,22,"error"],[132,21,96,27],[133,8,97,12],[134,6,98,8],[134,7,98,9],[134,8,98,10],[135,4,99,4],[136,2,100,0],[137,2,101,0,"exports"],[137,9,101,7],[137,10,101,8,"default"],[137,17,101,15],[137,20,101,18,"VectorBucketApi"],[137,35,101,33],[138,0,101,34],[138,3]],"functionMap":{"names":["<global>","VectorBucketApi","constructor","throwOnError","createBucket","tslib_1.__awaiter$argument_3","getBucket","listBuckets","deleteBucket"],"mappings":"AAA;ACY;ICE;KDK;IEE;KFG;IGE;uDCC;SDc;KHC;IKE;uDDC;SCc;KLC;IME;0DFC;SEgB;KNC;IOE;uDHC;SGc;KPC;CDC"},"hasCjsExports":true},"type":"js/module"}]}